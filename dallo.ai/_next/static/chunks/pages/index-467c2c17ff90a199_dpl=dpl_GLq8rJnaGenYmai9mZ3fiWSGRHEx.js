(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{130:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var i=n(7876),l=n(8617);function a(e){let{model:t,maxEquity:n,mobile:a=!1}=e,r=(0,l.ZI)(t.id),s=a?90:120,o=a?15:20,c=a?"w-10":"w-16",d=o;return n>0&&(d=o+t.currentEquity/n*(s-o)),(0,i.jsxs)("div",{className:"flex flex-1 flex-col items-center",children:[(0,i.jsxs)("div",{className:"relative flex items-end justify-center",style:{height:"".concat(s,"px"),width:a?"40px":"64px"},children:[(0,i.jsx)("div",{className:"terminal-data absolute left-1/2 -translate-x-1/2 ".concat(a?"text-[10px]":"text-xs"," font-bold text-black"),style:{bottom:"".concat(s+(a?4:6),"px")},children:(0,l.vv)(t.currentEquity)}),(0,i.jsx)("div",{className:"".concat(c," bg-gray-200"),style:{height:"".concat(s,"px")}}),(0,i.jsx)("div",{className:"absolute ".concat(c),style:{height:"".concat(d,"px"),bottom:0,backgroundColor:r.color}}),(0,i.jsx)("div",{className:"absolute ".concat(a?"bottom-0.5":"bottom-1"," left-1/2 -translate-x-1/2"),children:(0,i.jsx)("img",{src:r.icon,alt:t.name,className:"".concat(a?"size-4":"size-6"," object-contain chart-icon grok-white")})})]}),(0,i.jsx)("div",{className:"terminal-text mt-1 whitespace-nowrap text-center ".concat(a?"text-[10px]":"text-xs"," font-semibold leading-tight text-black ").concat(a?"max-w-[40px] truncate":"max-w-16 lg:max-w-20 xl:max-w-24 truncate"),children:t.name.toUpperCase()})]})}var r=n(2230);function s(e){let{sortedData:t,mobile:n=!1}=e,l=n?"p-2":"p-3",s=n?"h-32":"h-44",o=n?"gap-2":"gap-6";return(0,i.jsxs)("div",{className:"terminal-border bg-white ".concat(l),children:[(0,i.jsx)("div",{className:"md:hidden",children:(0,i.jsx)(r.v,{children:(0,i.jsx)("div",{className:"flex ".concat(s," items-end ").concat(o),style:{width:"max-content",minWidth:"100%"},children:t.map(e=>(0,i.jsx)(a,{model:e,maxEquity:Math.max(...t.map(e=>e.currentEquity)),mobile:n},e.id))})})}),(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)("div",{className:"flex ".concat(s," items-end ").concat(o," overflow-x-auto thin-scrollbar"),children:t.map(e=>(0,i.jsx)(a,{model:e,maxEquity:Math.max(...t.map(e=>e.currentEquity)),mobile:n},e.id))})})]})}},326:(e,t,n)=>{"use strict";function i(e,t){return t>0?(e-t)/t*100:0}function l(e,t,n){return["equity","equity-realized"].includes(n)?i(e,t):e/t*100}function a(e){return e?"terminal-positive":"terminal-negative"}function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return"".concat(e>=0?"+":"").concat(Number(e.toFixed(t)),"%")}function s(e){let t=2*(1e3>Math.abs(e));return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function o(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e)}function c(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:20}).format(e)}function d(e,t){let n=i(e,t),l=e>=t;return{percentageChange:n,isPositive:l,colorClass:a(l),formattedPercentage:r(n),formattedCurrency:s(e)}}function m(e,t,n,i){return"percentage"===i?l(e,t,n):e}function x(e,t,n,i){if("percentage"!==i)return"$".concat(e.toLocaleString());{let i=l(e,t,n);return"".concat(i.toFixed(2),"%")}}n.d(t,{$B:()=>x,B3:()=>d,E5:()=>m,Ee:()=>r,F:()=>c,Oi:()=>o,r9:()=>a,vv:()=>s})},2230:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var i=n(7876),l=n(4232);function a(e){let{children:t}=e,n=(0,l.useRef)(null),[a,r]=(0,l.useState)(!1),[s,o]=(0,l.useState)(!1),c=()=>{if(!n.current)return;let{scrollLeft:e,scrollWidth:t,clientWidth:i}=n.current;r(e>10),o(e<t-i-10)};return(0,l.useEffect)(()=>{let e=setTimeout(c,100),t=()=>c();return window.addEventListener("resize",t),()=>{clearTimeout(e),window.removeEventListener("resize",t)}},[t]),(0,l.useEffect)(()=>{c()},[]),(0,i.jsxs)("div",{className:"relative w-full",children:[a&&(0,i.jsx)("div",{className:"pointer-events-none absolute left-0 top-0 z-10 h-full w-4 bg-gradient-to-r from-white via-white/90 to-transparent md:hidden",style:{marginLeft:"-2px"}}),s&&(0,i.jsx)("div",{className:"pointer-events-none absolute right-0 top-0 z-10 h-full w-4 bg-gradient-to-l from-white via-white/90 to-transparent md:hidden",style:{marginRight:"-2px"}}),(0,i.jsx)("div",{ref:n,onScroll:c,className:"overflow-x-auto md:overflow-x-visible",style:{WebkitOverflowScrolling:"touch"},children:t})]})}},3827:(e,t,n)=>{"use strict";n.d(t,{Fr:()=>r,dM:()=>a,sQ:()=>l,w3:()=>s});var i=n(1193);let l={startingEquity:i.j9,circles:{line:{radius:15.75,strokeWidth:2,iconSize:25.5,iconOffset:-12.75},threshold:{radius:29.25,strokeWidth:2,iconSize:43.875,iconOffset:-21.9375}},stroke:2,scaling:{1:{radius:0,iconSize:0,iconOffset:0},2:{radius:4,iconSize:6,iconOffset:-3},3:{radius:8,iconSize:12,iconOffset:-6}},colors:{stroke:"rgba(255, 255, 255, 0.9)",clipPathRadius:16.875},hover:{scale:1.2,glowOpacity:"60",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)"},mobile:{breakpoint:640,circleRadius:16,iconSize:24,iconOffset:-12}},a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=l.circles[e],a=l.scaling[n];return t?{radius:l.mobile.circleRadius+a.radius,strokeWidth:l.stroke,iconSize:l.mobile.iconSize+a.iconSize,iconOffset:l.mobile.iconOffset+a.iconOffset}:{radius:i.radius+a.radius,strokeWidth:l.stroke,iconSize:i.iconSize+a.iconSize,iconOffset:i.iconOffset+a.iconOffset}},r=()=>window.innerWidth<l.mobile.breakpoint,s=()=>i.j9},6171:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>eK});var i=n(7876),l=n(4232),a=n(281),r=n.n(a),s=n(9702),o=n(6006),c=n(8282),d=n(2307),m=n(1193);let x={filterTrades:(e,t)=>t?e.filter(e=>{let n=(0,m.dn)(e.model_id);return(null==n?void 0:n.id)===t}):e,filterConversations:(e,t)=>t?e.filter(e=>{let n=(0,m.dn)(e.model_name||e.model_id);return(null==n?void 0:n.id)===t}):e},u=(0,l.createContext)(null);function h(e){let{children:t}=e,[n,a]=(0,l.useState)(null);return(0,i.jsx)(u.Provider,{value:{focusedModel:n,focusModel:e=>{a(e)},clearFocus:()=>{a(null)},isFocused:e=>n===e,isAnyFocused:null!==n},children:t})}function p(){let e=(0,l.useContext)(u);if(!e)throw Error("useModelFocus must be used within a ModelFocusProvider");return e}function f(e){let[t,n]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(window)return window.addEventListener("keydown",i),window.addEventListener("keyup",a),r},[]);let i=t=>{let{key:i}=t;i===e&&n(!0)},a=t=>{let{key:i}=t;i===e&&n(!1)},r=()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",a)};return t}var g=n(3827),v=n(326),b=n(2333),y=n(5208);function j(e){let{series:t,chartType:n,scaleLevel:l=1}=e,a=(0,g.Fr)(),r=(0,g.dM)(n,a,l),s=t.icon.replace("/logos/","/logos_white/"),o=t.id.includes("buynhold"),c=.8*r.radius,d=.8*r.iconSize,m=-d/2;return(0,i.jsx)("g",{id:"circle-with-icon-".concat(t.id),children:o?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:-2,cy:"0",r:c,fill:"rgba(128, 128, 128, 0.6)",stroke:t.color,strokeWidth:"1.5",strokeDasharray:"2,2"}),(0,i.jsx)("image",{href:s,x:m+-2,y:m,width:d,height:d,clipPath:"url(#circle-clip)",className:"chart-icon grok-white"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("circle",{cx:"0",cy:"0",r:r.radius,fill:t.color,stroke:"none",strokeWidth:0}),(0,i.jsx)("image",{href:s,x:r.iconOffset,y:r.iconOffset,width:r.iconSize,height:r.iconSize,clipPath:"url(#circle-clip)",className:"chart-icon grok-white"})]})})}function N(e){let{series:t,chartType:n,scaleLevel:l=1}=e,a=(0,g.Fr)(),r=Math.max((0,g.dM)(n,a,l).iconSize/2+2,22.5);return(0,i.jsxs)("defs",{children:[t.map(e=>(0,i.jsx)(j,{series:e,chartType:n,scaleLevel:l},"circle-def-".concat(e.id))),(0,i.jsx)("clipPath",{id:"circle-clip",children:(0,i.jsx)("circle",{cx:"0",cy:"0",r:r})})]})}var w=n(8477),T=n(7816);function k(e){let{value:t,duration:n=800,decimals:l=2,children:a,className:r="",format:s,trend:o}=e;return(0,i.jsx)(T.Ay,{value:t,format:s||{minimumFractionDigits:l,maximumFractionDigits:l},locales:"en-US",transformTiming:{duration:n,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},spinTiming:{duration:n,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"},trend:o,className:r,plugins:[T.Yw],style:a?{}:{fontVariantNumeric:"tabular-nums",...r?{}:{display:"inline-block"}},children:a})}function E(e){var t;let{seriesId:n,x:a,y:r,value:s,chartDataType:o,valueDisplayType:c,isPositive:d,label:x,startingEquity:u,firstValue:h,offsetX:p=38,offsetY:f=-18,isFocusedView:v=!1,isHovered:b=!1}=e,y=(0,m.mA)(n),j=(0,g.Fr)(),N=(0,l.useRef)(null),[T,E]=(0,l.useState)(null),C=s>=(null!=(t=null!=u?u:h)?t:(0,g.w3)()),S=j?29:38,M=j?-7:-10,D=j?32:65,A=j?14:18,O=j?7:10;(0,l.useEffect)(()=>{if(N.current){let e=N.current.ownerSVGElement;if(e){let t=e.parentElement;if(t){let n=t.getBoundingClientRect(),i=e.getBoundingClientRect(),l=i.left-n.left+a+S;E({x:l+(j?v?36:44:75),y:i.top-n.top+r+M+(j?50:70)})}}}},[a,r,S,M]);let L=T&&"undefined"!=typeof document&&N.current?(()=>{let e=N.current.ownerSVGElement,t=null==e?void 0:e.parentElement;return t?(0,w.createPortal)((0,i.jsxs)("div",{style:{position:"absolute",left:"".concat(T.x,"px"),top:"".concat(T.y,"px"),width:"".concat(D,"px"),height:"".concat(A,"px"),backgroundColor:"".concat(y.color,"F0"),borderRadius:"2px",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:b?1e3:10,fontSize:"".concat(O,"px"),fontWeight:j?700:600,color:"white"},children:["dollar"===c&&(0,i.jsx)("span",{children:"$"}),(0,i.jsx)(k,{value:s,duration:600,decimals:"percentage"===c?2:2*!j,trend:C?1:-1,format:{style:"decimal",minimumFractionDigits:"percentage"===c?2:2*!j,maximumFractionDigits:"percentage"===c?2:2*!j}}),"percentage"===c&&(0,i.jsx)("span",{children:"%"})]}),t):null})():null;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("g",{ref:N,transform:"translate(".concat(a+S,", ").concat(r+M,")"),children:(0,i.jsx)("rect",{x:0,y:0,width:D,height:A,fill:"transparent"})}),L]})}var C=n(4193),S=n(3599),M=n(6331),D=n(7233),A=n(8239),O=n(8189),L=n(6125);let _=(0,l.createContext)(null),I=()=>{let e=(0,l.useContext)(_);if(!e)throw Error("useChartScales must be used within UnifiedChartContainer");return e};function q(e){var t;let n,{width:l,height:a,data:r,chartDataType:s="equity",valueDisplayType:o="dollar",onValueDisplayTypeChange:c,chartViewType:d="line",onChartViewTypeChange:m,children:x,yDomain:u,xDomain:h,showValueToggle:p=!0,timeRange:f="all",onTimeRangeChange:g,showBackButton:v=!1,onBackToAllModels:b,comparisonMode:y=!1}=e,j=(t=l)<640?{top:50,bottom:30,left:40,right:20}:t<768?{top:70,bottom:25,left:80,right:100}:t<1024?{top:70,bottom:30,left:80,right:120}:{top:70,bottom:35,left:80,right:200},N=Math.max(0,l-j.left-j.right),w=Math.max(0,a-j.top-j.bottom),T=(0,A.A)({domain:(()=>{if(h)return h;if(0===r.length)return[new Date,new Date];if(r.length>0&&"data"in r[0]){let e=new Date,t=new Date(0);if(r.forEach(n=>{if(n.data.length>0){let i=n.data[0].x,l=n.data[n.data.length-1].x;i<e&&(e=i),l>t&&(t=l)}}),"all"!==f){let n=z(t,f,e);return[n>e?n:e,t]}return[e,t]}if("all"!==f){let e=r[r.length-1],t=z(e.x,f,r[0].x);return[t>r[0].x?t:r[0].x,e.x]}return[r[0].x,r[r.length-1].x]})(),range:[0,N]}),k=[],E=r.length>0&&"data"in r[0];if(k=E?r.flatMap(e=>e.data.map(e=>e.y)):r.map(e=>e.y),"pnl"===s&&k.push(0),u)n=u;else if("all"!==f){if(E){let e=new Date(0);r.forEach(t=>{if(t.data.length>0){let n=t.data[t.data.length-1].x;n>e&&(e=n)}});let t=z(e,f,new Date(0)),n=r.flatMap(e=>e.data.filter(e=>e.x>=t).map(e=>e.y));k=0===n.length?r.flatMap(e=>e.data.map(e=>e.y)):n}else{let e=z(r[r.length-1].x,f,r[0].x),t=r.filter(t=>t.x>=e).map(e=>e.y);k=0===t.length?r.map(e=>e.y):t}if("pnl"===s&&k.push(0),k.length>0){let e,t=Math.min(...k),i=Math.max(...k),l=i-t;e=0===l?Math.max(1,.01*Math.abs(t)):Math.max(.1*l,1),n=[t-e,i+e]}else n=[0,100]}else n=[.99*Math.min(...k),1.01*Math.max(...k)];let I=(0,O.A)({domain:n,range:[w,0],nice:!0,zero:"pnl"===s});return(0,i.jsx)(_.Provider,{value:{xScale:T,yScale:I,margin:j,xMax:N,yMax:w,scaleLevel:1},children:(0,i.jsxs)("div",{className:"flex h-full w-full flex-col",children:[(0,i.jsx)("div",{className:"relative flex-1 bg-gray-50",children:(0,i.jsxs)("svg",{width:l+100*(l<640),height:a,style:{display:"block"},children:[(0,i.jsxs)("defs",{children:[(0,i.jsxs)("pattern",{id:"scanlines",x:"0",y:"0",width:"100%",height:"2",patternUnits:"userSpaceOnUse",children:[(0,i.jsx)("rect",{width:"100%",height:"1",fill:"rgba(0, 255, 0, 0.02)"}),(0,i.jsx)("rect",{width:"100%",height:"1",y:"1",fill:"transparent"})]}),(0,i.jsxs)("pattern",{id:"terminalBorder",x:"0",y:"0",width:"8",height:"8",patternUnits:"userSpaceOnUse",children:[(0,i.jsx)("rect",{width:"8",height:"8",fill:"transparent"}),(0,i.jsx)("rect",{width:"1",height:"8",fill:"rgba(0, 255, 0, 0.1)"}),(0,i.jsx)("rect",{width:"8",height:"1",fill:"rgba(0, 255, 0, 0.1)"})]})]}),(0,i.jsxs)("g",{transform:"translate(".concat(j.left,", ").concat(j.top,")"),children:[(0,i.jsx)(M.A,{scale:I,width:N,height:w,stroke:"rgba(0, 0, 0, 0.1)",strokeDasharray:"1,3",strokeWidth:.5,numTicks:4}),(0,i.jsx)(D.A,{scale:T,width:N,height:w,stroke:"rgba(0, 0, 0, 0.1)",strokeDasharray:"1,3",strokeWidth:.5,numTicks:4}),(0,i.jsx)(M.A,{scale:I,width:N,height:w,stroke:"rgba(0, 0, 0, 0.15)",strokeDasharray:"none",strokeWidth:1,numTicks:2}),(0,i.jsx)(D.A,{scale:T,width:N,height:w,stroke:"rgba(0, 0, 0, 0.15)",strokeDasharray:"none",strokeWidth:1,numTicks:2}),(0,i.jsx)("g",{clipPath:"url(#chart-clip-".concat(l,"-").concat(a,")"),children:x})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"chart-clip-".concat(l,"-").concat(a),children:(0,i.jsx)("rect",{x:0,y:0,width:Math.max(0,h?N:N+j.right+100),height:Math.max(0,w)})})}),(0,i.jsx)(C.A,{top:a-j.bottom,left:j.left,scale:T,numTicks:l<300?1:l<400?2:l<500?3:l<600?4:l<800?5:8,tickValues:(()=>{let e=l<300?1:l<400?2:l<500?3:l<600?4:l<800?5:8,[t,n]=T.domain(),i=(n.getTime()-t.getTime())/(e-1);return Array.from({length:e},(e,n)=>new Date(t.getTime()+n*i))})(),stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:1.5,tickStroke:"rgba(0, 0, 0, 0.6)",tickLength:8,tickLabelProps:()=>({fill:"rgba(0, 0, 0, 0.8)",fontSize:l<400?6:l<500?7:l<600?8:l<800?10:12,fontFamily:"'IBM Plex Mono', monospace",fontWeight:600,textAnchor:"middle"}),tickComponent:l<500?e=>{let{x:t,y:n,formattedValue:a}=e,r=l<400?6:7,s=String(a),o=s.indexOf(" "),c=o>0?s.substring(0,o):s,d=o>0?s.substring(o+1):"";return(0,i.jsxs)("g",{children:[(0,i.jsx)("text",{x:t,y:n,fill:"rgba(0, 0, 0, 0.8)",fontSize:r,fontFamily:"'Courier New', Courier, monospace",fontWeight:600,textAnchor:"middle",children:c}),(0,i.jsx)("text",{x:t,y:n+r+2,fill:"rgba(0, 0, 0, 0.8)",fontSize:r,fontFamily:"'Courier New', Courier, monospace",fontWeight:600,textAnchor:"middle",children:d})]})}:void 0,tickFormat:e=>{let t,n=new Date(6e4*Math.floor(e.getTime()/6e4));return t=l<400||l<500||l<600?"%m/%d %H:%M":"%b %d %H:%M",(0,L.DC)(t)(n)}}),(0,i.jsx)(S.A,{left:j.left,top:j.top,scale:I,numTicks:l<640?3:6,stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:1.5,tickStroke:"rgba(0, 0, 0, 0.6)",tickLength:8,tickLabelProps:()=>({fill:"rgba(0, 0, 0, 0.8)",fontSize:l<640?10:12,fontFamily:"'Courier New', Courier, monospace",fontWeight:600,textAnchor:"end",dx:-8,dy:4}),tickFormat:e=>{if("percentage"===o)return"".concat(Number(e).toFixed(l<640?0:1),"%");{let t=Number(e),n=Math.abs(t),i=t<0?"-":"";return l<640?n>=1e6?"".concat(i,"$").concat((n/1e6).toFixed(1),"M"):n>=1e3?"".concat(i,"$").concat((n/1e3).toFixed(0),"K"):"".concat(i,"$").concat(n.toFixed(0)):"".concat(i,"$").concat(n.toLocaleString())}}}),(0,i.jsxs)("g",{transform:"translate(".concat(j.left,", ").concat(j.top,")"),opacity:.15,children:[(0,i.jsx)("image",{href:"/logos/NOF1 SQUARE BLACK.png",x:5,y:w-(l<640?45:60)-5,width:l<640?45:60,height:l<640?45:60}),(0,i.jsx)("text",{x:N-5,y:w-5,fill:"black",fontSize:l<640?14:18,fontFamily:"'Courier New', Courier, monospace",fontWeight:"bold",textAnchor:"end",children:"nof1.ai"})]})]},"".concat(l,"-").concat(a))}),v&&b&&(0,i.jsx)("div",{className:"absolute left-4 top-4 z-10",children:(0,i.jsx)("button",{onClick:b,className:"border px-3 py-1 font-mono text-xs transition-opacity hover:opacity-80 border-gray-600 bg-white text-gray-800 hover:bg-gray-100",children:"[← BACK TO ALL MODELS]"})})]})})}function z(e,t,n){return"72h"===t?new Date(e.getTime()-2592e5):n}function F(e){let{x:t,y:n,value:l,seriesName:a,seriesColor:r,valueDisplayType:s,chartDataType:o,startingEquity:c=(0,g.w3)(),...d}=e,{xScale:m,yScale:x,yMax:u}=I(),h=m(t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("line",{x1:h,y1:0,x2:h,y2:u,stroke:r,strokeWidth:1,strokeDasharray:"4,4",opacity:.8,pointerEvents:"none"}),(0,i.jsxs)("g",{children:[(0,i.jsx)("rect",{x:h-35,y:5,width:70,height:20,fill:r,fillOpacity:.9,rx:4,ry:4}),(0,i.jsx)("text",{x:h,y:18,textAnchor:"middle",fill:"white",fontSize:"10",fontFamily:"'IBM Plex Mono', monospace",fontWeight:"500",children:"percentage"===s?"".concat(Number(l).toFixed(2),"%"):(0,v.$B)(l,c,o,s)})]})]})}let R=e=>{let{hoveredSeries:t,data:n,xScale:l,yScale:a,getCircleConfig:r,scaleLevel:s}=e;if(!t)return null;let o=n.find(e=>e.id===t);if(!o)return null;let c=o.data[o.data.length-1];if(!c)return null;let d=l(c.x),m=a(c.y),x=r("line",!1,s).radius,u=o.name.toUpperCase(),h=6*u.length+8;return(0,i.jsxs)("g",{children:[(0,i.jsx)("rect",{x:d+x-h/2,y:m-40,width:h,height:15,fill:"white",stroke:o.color,strokeWidth:1,rx:2}),(0,i.jsx)("text",{x:d+x,y:m-32,textAnchor:"middle",fontSize:"10",fontWeight:"600",fill:o.color,dominantBaseline:"middle",children:u})]})};function P(){let{onModelClick:e,chartDataType:t="equity",startingEquity:n=(0,g.w3)()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[i,a]=(0,l.useState)(null),[r,s]=(0,l.useState)(null),o=(0,l.useCallback)(t=>{e&&e(t)},[e]),c=(0,l.useCallback)(e=>{a(e)},[]),d=(0,l.useCallback)(()=>{a(null),s(null)},[]),m=(0,l.useCallback)((e,t,n,i)=>{s({x:t.x,y:t.y,value:t.y,seriesName:n,seriesColor:i})},[]),x=(0,l.useCallback)(e=>"equity"===t?e>=n:e>=0,[t,n]),u=(0,l.useCallback)((e,t)=>{let n=i===e,l=null!==i&&i!==e;(0,g.dM)("line");let a=e.includes("buynhold");return{strokeWidth:window.innerWidth<640?1:n?g.sQ.stroke+1:g.sQ.stroke,opacity:l?.3:1,filter:n?"drop-shadow(0 0 8px ".concat(t,"40)"):"none",transition:"all 0.2s ease-in-out",cursor:"pointer",strokeDasharray:a?"5,5":"none"}},[i]),h=(0,l.useCallback)((e,t)=>{let n=i===e,l=null!==i&&i!==e;return e.includes("buynhold"),{filter:n?"drop-shadow(0 0 12px ".concat(t,"60)"):"none",opacity:l?.3:1,cursor:"pointer"}},[i]),p=(0,l.useCallback)(e=>{let t=i===e;return"scale(".concat(t?1.2:1,")")},[i]),f=(0,l.useCallback)(e=>i===e,[i]),v=(0,l.useCallback)(e=>null!==i&&i!==e,[i]);return{hoveredSeries:i,setHoveredSeries:a,hoverData:r,setHoverData:s,handleIconClick:o,handleMouseEnter:c,handleMouseLeave:d,handleMouseMove:m,isPositive:x,getLineStyle:u,getCircleStyle:h,getCircleTransform:p,isHovered:f,isOtherHovered:v}}function U(e){let{data:t,valueDisplayType:n="dollar",chartDataType:a="equity",models:r=[],onModelClick:s,onValueDisplayTypeChange:o,chartViewType:c="line",onChartViewTypeChange:d,onTimeRangeChange:m,width:x,height:u,timeRange:h="72h",yDomain:p,comparisonMode:f=!1}=e,g=(0,l.useMemo)(()=>t.map(e=>{if(e.data.length<=2e3)return e;let t=e.data.slice(-2e3);return{...e,data:t}}),[t]),{hoveredSeries:v,hoverData:b,handleIconClick:y,handleMouseEnter:j,handleMouseLeave:N,handleMouseMove:w,isPositive:T,getLineStyle:k,getCircleStyle:E,getCircleTransform:C}=P({onModelClick:s,chartDataType:a}),[S,M]=(0,l.useState)(0);return(0,l.useEffect)(()=>{let e=setInterval(()=>{M(e=>e+1)},3e3);return()=>clearInterval(e)},[]),(0,i.jsx)(q,{width:x,height:u,data:g,chartDataType:a,valueDisplayType:n,onValueDisplayTypeChange:o,chartViewType:c,onChartViewTypeChange:d,yDomain:p,showValueToggle:!0,timeRange:h,onTimeRangeChange:m,comparisonMode:f,children:(0,i.jsx)(V,{data:g,chartDataType:a,valueDisplayType:n,models:r,hoveredSeries:v,hoverData:b,handleMouseEnter:j,handleMouseLeave:N,handleMouseMove:w,handleIconClick:y,isPositive:T,getLineStyle:k,getCircleStyle:E,getCircleTransform:C,pulseKey:S})})}function V(e){var t;let{data:n,chartDataType:a,valueDisplayType:r,models:s,hoveredSeries:o,hoverData:c,handleMouseEnter:d,handleMouseLeave:m,handleMouseMove:x,handleIconClick:u,isPositive:h,getLineStyle:p,getCircleStyle:f,getCircleTransform:v,pulseKey:j}=e,{xScale:w,yScale:T,scaleLevel:k}=I(),[C,S]=(0,l.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{series:n,chartType:"line",scaleLevel:k}),n.map(e=>(0,i.jsx)("g",{children:(0,i.jsx)(b.A,{data:e.data,x:e=>w(e.x),y:e=>T(e.y),stroke:e.color,strokeLinecap:"round",strokeLinejoin:"round",curve:y.A,style:p(e.id,e.color),onMouseEnter:()=>d(e.id),onMouseLeave:m,onClick:()=>u(e.id),onMouseMove:t=>{if(e.id.includes("buynhold"))return;let n=t.currentTarget.getBoundingClientRect(),i=t.clientX-n.left;t.clientY,n.top;let l=w.invert(i),a=e.data.reduce((e,t)=>Math.abs(t.x.getTime()-l.getTime())<Math.abs(e.x.getTime()-l.getTime())?t:e);x(t,a,e.name,e.color),S({x:t.clientX,y:t.clientY,data:{...a,series:e}})}})},"".concat(e.id,"-line-group"))),n.sort((e,t)=>{let n=e.id.includes("buynhold"),i=t.id.includes("buynhold");if(n&&!i)return -1;if(!n&&i||o===e.id)return 1;if(o===t.id)return -1;let l=s.find(t=>t.id===e.id),a=s.find(e=>e.id===t.id);return((null==l?void 0:l.currentValue)||0)-((null==a?void 0:a.currentValue)||0)}).map((e,t)=>{var n;let l=e.data[e.data.length-1];if(!l)return null;let c=l.y,x=(null==(n=s.find(t=>t.id===e.id))?void 0:n.startingEquity)||(0,g.w3)(),h=w(l.x),p=T(l.y),b=window.innerWidth<640,y=(0,g.dM)("line",b,k),N=y.radius;return(0,i.jsxs)("g",{children:[j>0&&!e.id.includes("buynhold")&&(0,i.jsx)("g",{transform:"translate(".concat(h+N,", ").concat(p,")"),children:(0,i.jsx)("circle",{cx:"0",cy:"0",r:y.radius+8,fill:e.color,opacity:"0.4",style:{animation:"pulse-out 1s ease-out forwards",animationFillMode:"forwards"}})},"".concat(e.id,"-pulse-").concat(j)),(0,i.jsx)("g",{transform:"translate(".concat(h+N,", ").concat(p,") ").concat(v(e.id)),style:{...f(e.id,e.color),transition:"transform 0.2s ease-in-out 0.1s"},onMouseEnter:()=>d(e.id),onMouseLeave:m,onClick:()=>u(e.id),children:(0,i.jsx)("use",{href:"#circle-with-icon-".concat(e.id),x:0,y:0})}),!e.id.includes("buynhold")&&(0,i.jsx)("g",{style:{zIndex:o===e.id?1e3:10+t},children:(0,i.jsx)(E,{seriesId:e.id,x:h,y:p,value:c,chartDataType:a,valueDisplayType:r,isPositive:c>=x,label:"equity"===a?"TOTAL ACCOUNT VALUE":"equity-realized"===a?"EQUITY (REALIZED)":"PnL",startingEquity:e.startingEquity,firstValue:e.data.length>0?e.data[0].y:void 0,isHovered:o===e.id})})]},"".concat(e.id,"-glyph"))}),c&&!(null==o?void 0:o.includes("buynhold"))&&(0,i.jsx)(F,{x:c.x,y:c.y,value:c.value,seriesName:c.seriesName,seriesColor:c.seriesColor,valueDisplayType:r,chartDataType:a,startingEquity:(null==(t=s.find(e=>e.id===o))?void 0:t.startingEquity)||(0,g.w3)()}),(0,i.jsx)(R,{hoveredSeries:o,data:n,xScale:w,yScale:T,getCircleConfig:g.dM,scaleLevel:k}),C&&(0,i.jsxs)("div",{className:"terminal-text",style:{position:"fixed",left:C.x+10,top:C.y-10,backgroundColor:"white",color:"black",padding:"8px 12px",fontSize:"12px",fontFamily:"'IBM Plex Mono', monospace",pointerEvents:"none",zIndex:9999,border:"2px solid black",boxShadow:"none"},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,i.jsx)("div",{className:"w-3 h-3 border-2 border-black",style:{backgroundColor:C.data.series.color}}),(0,i.jsx)("span",{className:"font-bold text-black",children:C.data.series.name.toUpperCase()})]}),(0,i.jsxs)("div",{className:"text-xs",children:[(0,i.jsx)("div",{className:"text-gray-600",children:C.data.x.toLocaleString()}),(0,i.jsx)("div",{className:"font-mono text-black font-semibold",children:"percentage"===r?"".concat(Number(C.data.y).toFixed(2),"%"):"$".concat(Number(C.data.y).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))})]})]})]})}var W=n(6227);function B(e){let t,{data:n,width:l,height:a,chartDataType:r="pnl",valueDisplayType:s="dollar",onValueDisplayTypeChange:o,onTimeRangeChange:c,onModelClick:d,timeRange:m="72h",yDomain:x,chartViewType:u="line",onChartViewTypeChange:h}=e,{hoveredSeries:p,hoverData:f,handleIconClick:v,handleMouseEnter:b,handleMouseLeave:y,handleMouseMove:j,isPositive:N,getLineStyle:w,getCircleStyle:T,getCircleTransform:k}=P({onModelClick:d,chartDataType:r});return t="equity"===r?"percentage"===s?0:(0,g.w3)():0,(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("div",{className:"absolute left-20 top-4 z-10 rounded bg-yellow-500 px-3 py-1 font-mono text-sm font-bold text-black",children:"will fix l8r"}),(0,i.jsx)(q,{width:l,height:a,data:n,chartDataType:r,valueDisplayType:s,onValueDisplayTypeChange:o,yDomain:x,showValueToggle:!!o,timeRange:m,onTimeRangeChange:c,chartViewType:u,onChartViewTypeChange:h,children:(0,i.jsx)(H,{data:n,thresholdValue:t,chartDataType:r,valueDisplayType:s,hoveredSeries:p,hoverData:f,handleMouseEnter:b,handleMouseLeave:y,handleMouseMove:j,handleIconClick:v,isPositive:N,getLineStyle:w,getCircleStyle:T,getCircleTransform:k})})]})}function H(e){var t;let{data:n,thresholdValue:a,chartDataType:r,valueDisplayType:s,hoveredSeries:o,hoverData:c,handleMouseEnter:d,handleMouseLeave:m,handleMouseMove:x,handleIconClick:u,isPositive:h,getLineStyle:p,getCircleStyle:f,getCircleTransform:v}=e,{xScale:j,yScale:w,scaleLevel:T}=I(),[k,C]=(0,l.useState)(null);return(0,i.jsxs)("g",{onMouseLeave:()=>C(null),children:[(0,i.jsx)(N,{series:n,chartType:"line",scaleLevel:T}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("linearGradient",{id:"positive-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#22c55e",stopOpacity:"0.4"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#22c55e",stopOpacity:"0.15"})]}),(0,i.jsxs)("linearGradient",{id:"negative-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[(0,i.jsx)("stop",{offset:"0%",stopColor:"#dc2626",stopOpacity:"0.4"}),(0,i.jsx)("stop",{offset:"100%",stopColor:"#dc2626",stopOpacity:"0.15"})]})]}),n.map(e=>(0,i.jsx)(W.A,{id:"".concat(e.id,"-threshold"),data:e.data,x:e=>j(e.x),y0:e=>w(e.y),y1:e=>w(a),curve:y.A,clipAboveTo:0,clipBelowTo:w.range()[0],belowAreaProps:{fill:null===o||o===e.id?"url(#negative-gradient)":"transparent"},aboveAreaProps:{fill:null===o||o===e.id?"url(#positive-gradient)":"transparent"}},"".concat(e.id,"-threshold"))),(0,i.jsx)(b.A,{data:n.flatMap(e=>e.data),x:e=>j(e.x),y:e=>w(a),stroke:"#666666",strokeWidth:1,strokeDasharray:"2,2",curve:y.A}),n.map(e=>(0,i.jsx)(b.A,{data:e.data,x:e=>j(e.x),y:e=>w(e.y),stroke:e.color,curve:y.A,style:p(e.id,e.color),onMouseEnter:()=>d(e.id),onMouseLeave:m,onMouseMove:t=>{let n=t.currentTarget.getBoundingClientRect(),i=t.clientX-n.left;t.clientY,n.top;let l=j.invert(i);x(t,e.data.reduce((e,t)=>Math.abs(t.x.getTime()-l.getTime())<Math.abs(e.x.getTime()-l.getTime())?t:e),e.name,e.color);let a=t.currentTarget.getBoundingClientRect(),r=t.clientX-a.left,s=j.invert(r);if(s){let n=e.data.reduce((e,t)=>Math.abs(t.x.getTime()-s.getTime())<Math.abs(e.x.getTime()-s.getTime())?t:e);C({x:t.clientX,y:t.clientY,data:{...n,series:e}})}},onClick:()=>u(e.id)},"".concat(e.id,"-line"))),n.sort((e,t)=>{let n=e.id.includes("buynhold"),i=t.id.includes("buynhold");return n&&!i?-1:!n&&i||o===e.id?1:o===t.id?-1:0}).map(e=>{var t,l;if(0===e.data.length)return null;let a=e.data[e.data.length-1];e.id;let c=(0,g.dM)("line",!1,T).radius,x=j(a.x),p=w(a.y);return(0,i.jsxs)("g",{children:[(0,i.jsx)("g",{transform:"translate(".concat(x+c,", ").concat(p,") ").concat(v(e.id)),style:f(e.id,e.color),onMouseEnter:()=>d(e.id),onMouseLeave:m,onClick:()=>u(e.id),children:(0,i.jsx)("use",{href:"#circle-with-icon-".concat(e.id),x:0,y:0})}),(0,i.jsx)(E,{seriesId:e.id,x:x,y:p,value:a.y,chartDataType:r,valueDisplayType:s,isPositive:h(a.y),label:"equity"===r?"TOTAL ACCOUNT VALUE":"equity-realized"===r?"EQUITY (REALIZED)":"PnL",startingEquity:(null==(t=n.find(e=>e.id===o))?void 0:t.startingEquity)||(0,g.w3)(),firstValue:n.length>0?null==(l=n[0].data[0])?void 0:l.y:void 0})]},"".concat(e.id,"-icon"))}),c&&(0,i.jsx)(F,{x:c.x,y:c.y,value:c.value,seriesName:c.seriesName,seriesColor:c.seriesColor,valueDisplayType:s,chartDataType:r,startingEquity:(null==(t=n.find(e=>e.id===o))?void 0:t.startingEquity)||(0,g.w3)()}),k&&(0,i.jsxs)("div",{className:"terminal-text",style:{position:"fixed",left:k.x+10,top:k.y-10,backgroundColor:"white",color:"black",padding:"8px 12px",fontSize:"12px",fontFamily:"'IBM Plex Mono', monospace",pointerEvents:"none",zIndex:9999,border:"2px solid black",boxShadow:"none"},children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,i.jsx)("div",{className:"w-3 h-3 border-2 border-black",style:{backgroundColor:k.data.series.color}}),(0,i.jsx)("span",{className:"font-bold text-black",children:k.data.series.name.toUpperCase()})]}),(0,i.jsxs)("div",{className:"text-xs",children:[(0,i.jsx)("div",{className:"text-gray-600",children:k.data.x.toLocaleString()}),(0,i.jsx)("div",{className:"font-mono text-black font-semibold",children:"percentage"===s?"".concat(Number(k.data.y).toFixed(2),"%"):"$".concat(Number(k.data.y).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}))})]})]})]})}function G(e){let t,{data:n,color:l,icon:a,id:r,name:s,startingEquity:o,width:c,height:d,chartDataType:m="equity",valueDisplayType:x="dollar",onValueDisplayTypeChange:u,onTimeRangeChange:h,trades:p=[],onModelClick:f,timeRange:g="72h",yDomain:v,xDomain:b,comparisonMode:y=!1,onDataPointClick:j}=e,N=[{id:r,name:s,data:n,color:l,icon:a}],{hoveredSeries:w,hoverData:T,handleMouseEnter:k,handleMouseLeave:E,handleMouseMove:C,isPositive:S,getLineStyle:M,getCircleStyle:D,getCircleTransform:A}=P({onModelClick:f,chartDataType:m});return t="equity"===m?"percentage"===x?0:o:0,(0,i.jsx)(q,{width:c,height:d,data:n,chartDataType:m,valueDisplayType:x,onValueDisplayTypeChange:u,yDomain:v,timeRange:g,onTimeRangeChange:h,xDomain:b,showValueToggle:!!u,comparisonMode:y,children:(0,i.jsx)(Y,{data:n,color:l,id:r,name:s,startingEquity:o,seriesData:N,thresholdValue:t,chartDataType:m,valueDisplayType:x,trades:p,hoveredSeries:w,hoverData:T,handleMouseEnter:k,handleMouseLeave:E,handleMouseMove:C,handleIconClick:()=>{f&&f(r)},handleDataPointClick:e=>{j&&j(e)},isPositive:S,getLineStyle:M,getCircleStyle:D,getCircleTransform:A})})}function Y(e){let{data:t,color:n,id:l,name:a,startingEquity:r,seriesData:s,thresholdValue:o,chartDataType:c,valueDisplayType:d,trades:m,hoveredSeries:x,hoverData:u,handleMouseEnter:h,handleMouseLeave:p,handleMouseMove:f,handleIconClick:v,handleDataPointClick:j,isPositive:w,getLineStyle:T,getCircleStyle:k,getCircleTransform:C}=e,{xScale:S,yScale:M,scaleLevel:D}=I();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{series:s,chartType:"line",scaleLevel:D}),(0,i.jsx)(W.A,{id:"".concat(l,"-threshold"),data:t,x:e=>S(e.x),y0:e=>M(e.y),y1:e=>M(o),curve:y.A,clipAboveTo:0,clipBelowTo:M.range()[0],belowAreaProps:{fill:"#dc2626",fillOpacity:.1},aboveAreaProps:{fill:"#22c55e",fillOpacity:.1}}),(0,i.jsx)(b.A,{data:t,x:e=>S(e.x),y:e=>M(o),stroke:"#666666",strokeWidth:1,strokeDasharray:"2,2",curve:y.A}),(0,i.jsx)(b.A,{data:t,x:e=>S(e.x),y:e=>M(e.y),stroke:n,curve:y.A,style:T(l,n),onMouseEnter:()=>h(l),onMouseLeave:p,onMouseMove:e=>{let i=e.currentTarget.getBoundingClientRect(),l=e.clientX-i.left;e.clientY,i.top;let r=S.invert(l);f(e,t.reduce((e,t)=>Math.abs(t.x.getTime()-r.getTime())<Math.abs(e.x.getTime()-r.getTime())?t:e),a,n)},onClick:v}),t.map((e,t)=>{let n=m.filter(t=>1e3>Math.abs(1e3*t.exit_time-e.x.getTime()));if(0===n.length)return null;let l=S(e.x),a=M(e.y),r=1===n.length?"".concat(n[0].trade_type.toUpperCase()," ").concat(n[0].symbol," at $").concat(n[0].nav.toFixed(2)):"".concat(n.length," trades: ").concat(n.map(e=>"".concat(e.symbol," $").concat(e.nav.toFixed(2))).join(", "));return(0,i.jsxs)("g",{children:[(0,i.jsx)("circle",{cx:l,cy:a,r:4,fill:"white",stroke:"black",strokeWidth:2,style:{cursor:"pointer"},onClick:()=>j(e.x.getTime())}),(0,i.jsx)("title",{children:r})]},"trades-".concat(t))}),t.length>0&&(()=>{let e=t[t.length-1],a=S(e.x),s=M(e.y),o=window.innerWidth<640,m=(0,g.dM)("threshold",o,D).radius/2;return(0,i.jsxs)("g",{children:[(0,i.jsx)("g",{transform:"translate(".concat(a+m,", ").concat(s,") ").concat(C(l)),style:k(l,n),onMouseEnter:()=>h(l),onMouseLeave:p,onClick:v,children:(0,i.jsx)("use",{href:"#circle-with-icon-".concat(l),x:0,y:0})}),(0,i.jsx)("g",{children:(0,i.jsx)(E,{seriesId:l,x:a,y:s,value:t[t.length-1].y,chartDataType:c,valueDisplayType:d,isPositive:w(t[t.length-1].y),label:"equity"===c?"TOTAL ACCOUNT VALUE":"equity-realized"===c?"EQUITY (REALIZED)":"PnL",startingEquity:r,firstValue:t.length>0?t[0].y:void 0,isFocusedView:!0})})]})})(),u&&(0,i.jsx)(F,{x:u.x,y:u.y,value:u.value,seriesName:u.seriesName,seriesColor:u.seriesColor,valueDisplayType:d,chartDataType:c,startingEquity:r})]})}function $(e){let{primaryData:t,secondaryData:n,primaryColor:l,secondaryColor:a,primaryIcon:r,secondaryIcon:s,primaryId:o,secondaryId:c,primaryName:d,secondaryName:m,width:x,height:u,chartDataType:h="equity",valueDisplayType:p="dollar",onValueDisplayTypeChange:f,onTimeRangeChange:g,timeRange:v="72h",yDomain:b,showBackButton:y=!1,onBackToAllModels:j,comparisonMode:N=!1,primaryStartingEquity:w,secondaryStartingEquity:T}=e,k=e=>{},E=[{id:o,name:d,data:t,color:l,icon:r},{id:c,name:m,data:n,color:a,icon:s}],{hoveredSeries:C,handleMouseEnter:S,handleMouseLeave:M,isPositive:D,getLineStyle:A,getCircleStyle:O,getCircleTransform:L}=P({onModelClick:k,chartDataType:h});return(0,i.jsx)(q,{width:x,height:u,data:t,chartDataType:h,valueDisplayType:p,onValueDisplayTypeChange:f,yDomain:b,showValueToggle:!0,timeRange:v,onTimeRangeChange:g,showBackButton:y,onBackToAllModels:j,comparisonMode:N,children:(0,i.jsx)(X,{primaryData:t,secondaryData:n,seriesData:E,chartDataType:h,valueDisplayType:p,hoveredSeries:C,handleMouseEnter:S,handleMouseLeave:M,handleIconClick:k,getLineStyle:A,getCircleStyle:O,getCircleTransform:L,primaryStartingEquity:w,secondaryStartingEquity:T})})}function Q(e){let{data:t,seriesId:n,color:l,xScale:a,yScale:r,scaleLevel:s,chartDataType:o,valueDisplayType:c,startingEquity:d,getCircleTransform:m,getCircleStyle:x,handleMouseEnter:u,handleMouseLeave:h,handleIconClick:p,offsetX:f=38,offsetY:v=-18}=e;if(0===t.length)return null;let b=t[t.length-1],y=a(b.x),j=r(b.y),N=(0,g.dM)("line",!1,s).radius;return(0,i.jsxs)("g",{children:[(0,i.jsx)("g",{transform:"translate(".concat(y+N,", ").concat(j,") ").concat(m(n)),style:x(n,l),onMouseEnter:()=>u(n),onMouseLeave:h,onClick:()=>p(n),children:(0,i.jsx)("use",{href:"#circle-with-icon-".concat(n),x:0,y:0})}),(0,i.jsx)(E,{seriesId:n,x:y,y:j,value:t[t.length-1].y,chartDataType:o,valueDisplayType:c,isPositive:t[t.length-1].y>=(t.length>0?t[0].y:0),label:"equity"===o?"TOTAL ACCOUNT VALUE":"equity-realized"===o?"EQUITY (REALIZED)":"PnL",startingEquity:d,firstValue:t.length>0?t[0].y:void 0,offsetX:f,offsetY:v})]})}function X(e){let{primaryData:t,secondaryData:n,seriesData:l,chartDataType:a,valueDisplayType:r,hoveredSeries:s,handleMouseEnter:o,handleMouseLeave:c,handleIconClick:d,getLineStyle:m,getCircleStyle:x,getCircleTransform:u,primaryStartingEquity:h,secondaryStartingEquity:p}=e,{xScale:f,yScale:g,scaleLevel:v}=I(),j=new Set;t.forEach(e=>j.add(e.x.getTime())),n.forEach(e=>j.add(e.x.getTime()));let w=Array.from(j).sort((e,t)=>e-t).map(e=>({x:new Date(e),primaryY:(e=>{var n;let i=t.find(t=>t.x.getTime()===e);if(i)return i.y;let l=t.filter(t=>t.x.getTime()<e).pop(),a=t.find(t=>t.x.getTime()>e);if(l&&a){let t=(e-l.x.getTime())/(a.x.getTime()-l.x.getTime());return l.y+(a.y-l.y)*t}return(null==l?void 0:l.y)||(null==(n=t[0])?void 0:n.y)||0})(e),secondaryY:(e=>{var t;let i=n.find(t=>t.x.getTime()===e);if(i)return i.y;let l=n.filter(t=>t.x.getTime()<e).pop(),a=n.find(t=>t.x.getTime()>e);if(l&&a){let t=(e-l.x.getTime())/(a.x.getTime()-l.x.getTime());return l.y+(a.y-l.y)*t}return(null==l?void 0:l.y)||(null==(t=n[0])?void 0:t.y)||0})(e)}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N,{series:l,chartType:"line",scaleLevel:v}),(0,i.jsx)(W.A,{id:"primary-vs-secondary",data:w,x:e=>f(e.x),y0:e=>g(e.primaryY),y1:e=>g(e.secondaryY),curve:y.A,clipAboveTo:0,clipBelowTo:g.range()[0],belowAreaProps:{fill:"#dc2626",fillOpacity:.15},aboveAreaProps:{fill:"#22c55e",fillOpacity:.15}}),(0,i.jsx)(b.A,{data:n,x:e=>f(e.x),y:e=>g(e.y),stroke:l[1].color,strokeWidth:2,strokeDasharray:"4,4",curve:y.A,style:m(l[1].id,l[1].color),onMouseEnter:()=>o(l[1].id),onMouseLeave:c,onClick:()=>d(l[1].id)}),(0,i.jsx)(b.A,{data:t,x:e=>f(e.x),y:e=>g(e.y),stroke:l[0].color,curve:y.A,style:m(l[0].id,l[0].color),onMouseEnter:()=>o(l[0].id),onMouseLeave:c,onClick:()=>d(l[0].id)}),(0,i.jsx)(Q,{data:t,seriesId:l[0].id,color:l[0].color,xScale:f,yScale:g,scaleLevel:v,chartDataType:a,valueDisplayType:r,startingEquity:h,getCircleTransform:u,getCircleStyle:x,handleMouseEnter:o,handleMouseLeave:c,handleIconClick:d,offsetX:38,offsetY:-18}),(0,i.jsx)(Q,{data:n,seriesId:l[1].id,color:l[1].color,xScale:f,yScale:g,scaleLevel:v,chartDataType:a,valueDisplayType:r,startingEquity:p,getCircleTransform:u,getCircleStyle:x,handleMouseEnter:o,handleMouseLeave:c,handleIconClick:d,offsetX:38,offsetY:-18})]})}function Z(e){let{timeRange:t,setTimeRange:n,targetTimeRange:l,label:a}=e;return(0,i.jsx)("button",{onClick:()=>n(l),className:"terminal-button-small border-collapse border-r border-black whitespace-nowrap flex-shrink-0 ".concat(t===l?"active":""),children:a})}function K(e){let{timeRange:t,setTimeRange:n}=e,l={timeRange:t,setTimeRange:n};return(0,i.jsxs)("div",{className:"flex border-collapse border border-black bg-white text-[6px] md:text-sm w-fit",children:[(0,i.jsx)(Z,{...l,targetTimeRange:"all",label:"ALL"}),(0,i.jsx)(Z,{...l,targetTimeRange:"72h",label:"72H"})]})}function J(e){let{chartDataType:t,setChartDataType:n}=e;return(0,i.jsx)("h2",{className:"terminal-text text-xs md:text-sm font-bold text-black",children:"TOTAL ACCOUNT VALUE"})}var ee=n(4587),et=n.n(ee);function en(e){let{models:t,valueDisplayType:n,focusedModel:a=null,selectedModels:r=[],hoveredModel:s=null,comparisonSelectionMode:o=!1,onModelClick:c,onStartComparison:d,onExitComparison:m,onBackToAllModels:x,setHoveredModel:u}=e,h=f("Escape");return((0,l.useEffect)(()=>{null==m||m()},[h,m]),0===t.length)?null:(0,i.jsx)("div",{className:"relative bg-surface p-1 md:p-3 hidden md:block md:border-t-2 md:border-border",children:(0,i.jsxs)("div",{className:"flex w-full flex-col items-start gap-3 sm:flex-row",children:[a&&!o&&0===r.length&&(0,i.jsx)("div",{className:"absolute bottom-2 right-2 z-10 md:relative md:bottom-auto md:right-auto md:z-auto",children:(0,i.jsxs)("button",{onClick:x,className:"terminal-text flex animate-pulse items-center space-x-0.5 md:space-x-2 border-2 border-border bg-surface px-1 py-0.5 md:px-4 md:py-2 text-[6px] md:text-sm shadow-lg transition-all duration-300 hover:bg-surface-hover hover:shadow-border/50",style:{boxShadow:"0 0 20px rgba(0, 0, 0, 0.2), 0 0 40px rgba(0, 0, 0, 0.1)"},children:[(0,i.jsx)("svg",{className:"h-2 w-2 md:h-4 md:w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),(0,i.jsx)("span",{className:"font-bold",children:"BACK"})]})}),(0,i.jsx)("div",{className:"flex-1 w-full",children:(0,i.jsx)("div",{className:"flex flex-wrap gap-1 md:gap-2 w-full justify-center",children:t.map(e=>{var l;let s=r.includes(e.id),d=a===e.id;e.id;let m=e.currentEquity||(0,g.w3)(),x=e.startingEquity||(0,g.w3)(),h=m-x,p=Math.min(t.length,8),f=window.innerWidth<768,v="calc((100% - ".concat((p-1)*.5,"rem) / ").concat(p,")");return(0,i.jsxs)("div",{onMouseEnter:()=>null==u?void 0:u(e.id),onMouseLeave:()=>null==u?void 0:u(null),onClick:()=>null==c?void 0:c(e.id),className:"\n                    terminal-text relative cursor-pointer border border-border px-1.5 py-0.5 md:p-2 transition-all duration-200\n                    ".concat(s?"bg-surface-hover":d?"bg-surface-elevated":"bg-surface hover:bg-surface-hover"," ").concat(o&&!s?"opacity-50":""," ").concat(!o&&a&&a!==e.id?"opacity-50":""," "),style:{borderColor:s||d?e.color:"var(--border)",flexBasis:f?"calc((100% - 0.75rem) / 4)":v,flexGrow:0,flexShrink:0},children:[(0,i.jsxs)("div",{className:"flex flex-col items-center gap-0.5 md:gap-1 w-full",children:[(0,i.jsxs)("div",{className:"flex items-center justify-center gap-1 md:gap-2 w-full",children:[(0,i.jsx)("div",{className:"relative flex-shrink-0",children:(0,i.jsx)(et(),{src:e.icon,alt:e.name,width:12,height:12,className:"w-3 h-3 rounded object-cover ".concat("x-ai/grok-4"===e.id?"grok-white":"")})}),(0,i.jsx)("h3",{className:"".concat((l=e.name,window.innerWidth<640?l.length<=8?"text-[7px]":l.length<=12?"text-[6px]":(l.length,"text-[5px]"):l.length<=8?"text-xs":l.length<=12?"text-[10px]":l.length<=16?"text-[9px]":"text-[8px]")," font-medium text-foreground leading-tight text-center hidden md:block"),children:e.name.toUpperCase()})]}),(0,i.jsxs)("div",{className:"terminal-data whitespace-nowrap text-[7px] md:text-xs font-bold w-full flex justify-center items-baseline text-black",children:["dollar"===n&&(0,i.jsx)("span",{children:"$"}),(0,i.jsx)(k,{value:"percentage"===n?h/x*100:m,duration:600,decimals:2,trend:h>=0?1:-1,format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}}),"percentage"===n&&(0,i.jsx)("span",{children:"%"})]})]}),s&&(0,i.jsx)("div",{className:"absolute right-1 top-1",children:(0,i.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:e.color}})})]},e.id)})})})]})})}function ei(e){let t=(0,m.br)(),n={};return t.forEach(e=>{let t=(0,m.mA)(e);t&&(n[t.id]=t.color)}),n}function el(e,t){return new Date("72h"===t?e.getTime()-2592e5:0)}function ea(e,t,n){if(!t||!n)return 0;let i=t[e];if(!i||!i.positions)return 0;let l=0;return Object.values(i.positions).forEach(e=>{let t=e.coin||e.symbol;if(t&&n[t]){let i=n[t].price,a=e.entry_price||0,r=e.position||e.quantity||0;l+=(i-a)*r}}),l}function er(e){let{width:t,height:n,externalTimeRange:a,externalSetTimeRange:u,externalValueDisplayType:h,externalSetValueDisplayType:f}=e,{focusedModel:b,focusModel:y,clearFocus:j,isFocused:N}=p(),[w,T]=(0,l.useState)(!1),[k,E]=(0,l.useState)([]),[C,S]=(0,l.useState)(null),[M,D]=(0,l.useState)(!1),[A,O]=(0,l.useState)("dollar"),[L,_]=(0,l.useState)("equity"),[I,q]=(0,l.useState)("line"),[z,F]=(0,l.useState)("all"),R=null!=h?h:A,P=null!=f?f:O,V=null!=a?a:z,W=null!=u?u:F,[H,Y]=(0,l.useState)(null),[Q,X]=(0,l.useState)(Date.now()),{models:Z,isLoading:ee,error:et}=(0,s.Q)(),er=(0,o.d)(),eo=(null==er?void 0:er.trades)||[],ec=[],{prices:ed,serverTime:em}=(0,c.r)(),{latestAccountDataByModel:ex}=(0,d.q)(),[eu,eh]=(0,l.useState)({width:0,height:0});(0,l.useEffect)(()=>{if(window.innerWidth<768&&/iPhone/.test(navigator.userAgent)){let e=sessionStorage.getItem("focusedModel");e&&!b&&(sessionStorage.removeItem("focusedModel"),y(e),T(!1),E([]))}},[b,y]),(0,l.useEffect)(()=>{let e=setInterval(()=>{X(Date.now())},5e3);return()=>clearInterval(e)},[]),(0,l.useEffect)(()=>{let e;if(t&&n)return void eh({width:t,height:n});let i=()=>{let e=document.querySelector("[data-chart-container]");if(!e){let e=window.innerWidth;eh({width:e-(e<1024?320:e<1280?384:448),height:500});return}if(window.innerWidth<768)eh({width:window.innerWidth-50,height:480});else{let t=e.getBoundingClientRect();eh({width:t.width-20,height:t.height-80})}};return i(),e=requestAnimationFrame(()=>{i()}),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i),e&&cancelAnimationFrame(e)}},[t,n,b,w]);let ep=(0,l.useMemo)(()=>{if(0===Z.length)return[];let e=ei("light"),t=em?em>1e12?em:1e3*em:0;return 0===t&&Z.forEach(e=>{if(e.equity.length>0){let n=e.equity[e.equity.length-1];t=Math.max(t,n.t)}}),Z.map(n=>{let i=[];if("equity"===L){if((i=n.equity).length>0?i=[{t:n.inceptionDate?1e3*n.inceptionDate:i[0].t-1,v:n.startingEquity},...i]:n.startingEquity&&(i=[{t:t>0?t:Q,v:n.startingEquity}]),i.length>0&&t>0&&(i[i.length-1].t>t&&(i=i.filter(e=>e.t<=t)),i.length>0)){let e=i[i.length-1];if(t>e.t){var l;let a=null!=(l=n.intermittentValue)?l:e.v;i=[...i,{t:t,v:a}]}else t===e.t&&void 0!==n.intermittentValue&&(i=[...i.slice(0,-1),{t:e.t,v:n.intermittentValue}])}}else if("pnl"===L)if((i=n.pnl||[]).length>0){let e=i[i.length-1];Q>e.t&&(i=[...i,{t:Q,v:e.v}])}else i=[{t:Q,v:0}];else if("equity-realized"===L){let e=eo.filter(e=>{let t=(0,m.dn)(e.model_id);return(null==t?void 0:t.id)===n.id}),t=ec.find(e=>{let t=(0,m.dn)(e.model_id);return(null==t?void 0:t.id)===n.id}),l=[...e];t&&!e.find(e=>e.id===t.id)&&l.push(t);let a=l.sort((e,t)=>e.exit_time-t.exit_time).map(e=>({t:1e3*e.exit_time,v:e.nav}));if(a.length>0)if(Q>a[a.length-1].t){let e=l.length>0&&l[l.length-1].nav||0;i=[...a,{t:Q,v:e+ea(n.id,ex,ed)}]}else i=a;else i=[{t:Q,v:ea(n.id,ex,ed)}]}return{id:n.id,name:n.name,startingEquity:n.startingEquity,data:i.map(e=>({t:e.t,v:e.v})),color:e[n.id]||"#8884d8",icon:n.icon}})},[Z,L,eo,ec,ex,ed,Q]);(0,l.useMemo)(()=>x.filterTrades(eo,b).sort((e,t)=>e.exit_time-t.exit_time).map(e=>({id:e.id,timestamp:1e3*e.exit_time,action:"exit",cryptoId:e.symbol,price:e.nav})),[b,eo]);let ef=(0,l.useMemo)(()=>{if(0===Z.length)return[];let e=ei("light");return Z.map(t=>({id:t.id,name:t.name,startingEquity:t.startingEquity,data:(t.pnl||[]).map(e=>({t:e.t,v:e.v})),color:e[t.id]||"#8884d8",icon:t.icon}))},[Z]),eg=(0,l.useMemo)(()=>(b?ep.filter(e=>e.id===b):ep).map(e=>({id:e.id,name:e.name,startingEquity:e.startingEquity,data:e.data.map(t=>({x:new Date(t.t),y:(0,v.E5)(t.v,e.startingEquity,L,R)})),color:e.color,icon:e.icon})),[ep,ef,R,b,L]),ev=(0,l.useMemo)(()=>{let e,t;if(0===eg.length)return"equity"===L||"equity-realized"===L?[9990,10010]:[-100,100];if(w&&2===k.length)e=eg.filter(e=>k.includes(e.id)).flatMap(e=>e.data.map(e=>e.y));else if("all"!==V){var n;let t=null==(n=eg[0])?void 0:n.data[eg[0].data.length-1];if(t){let n=el(t.x,V),i=eg.flatMap(e=>e.data.filter(e=>e.x>=n).map(e=>e.y));if((e=0===i.length?eg.flatMap(e=>e.data.map(e=>e.y)):i).length>0){let t=Math.min(...e),n=Math.max(...e),i=n-t,l=i>0?.05*i:Math.max(1,.005*Math.abs(t));return"pnl"===L?[Math.min(t-l,0),Math.max(n+l,0)]:[t-l,n+l]}}else e=eg.flatMap(e=>e.data.map(e=>e.y))}else e=eg.flatMap(e=>e.data.map(e=>e.y));"pnl"===L&&e.push(0);let i=Math.min(...e),l=Math.max(...e);if(i===l){let e=Math.max(5,.001*i);return[i-e,i+e]}let a=l-i;if("pnl"!==L)return[i-(t=a<10?Math.max(2,.5*a):a<50?Math.max(5,.25*a):a<200?.1*a:.05*a),l+t];{let e=Math.min(i,0),n=Math.max(l,0),a=n-e;return[e-(t=a<10?Math.max(2,.5*a):a<50?Math.max(5,.25*a):.1*a),n+t]}},[eg,V,L,w,k,el]),eb=(0,l.useCallback)(e=>{M?0===k.length?E([e]):1!==k.length||k.includes(e)||(E([...k,e]),T(!0),D(!1),y(null),"bar"===I&&q("line")):b===e?window.innerWidth<768&&/iPhone/.test(navigator.userAgent)?(sessionStorage.removeItem("focusedModel"),window.location.reload()):(y(null),T(!1),E([])):window.innerWidth<768&&/iPhone/.test(navigator.userAgent)?(sessionStorage.setItem("focusedModel",e),window.location.reload()):(y(e),T(!1),E([]))},[M,k,b,I,y]),ey=(0,l.useCallback)(()=>{window.innerWidth<768&&/iPhone/.test(navigator.userAgent)?(sessionStorage.removeItem("focusedModel"),window.location.reload()):(j(),T(!1),E([]),S(null),D(!1))},[j]),ej=(0,l.useCallback)(()=>{D(!0),E([]),j()},[]),eN=(0,l.useCallback)(()=>{D(!1),T(!1),E([])},[]),ew=e=>{if(H)return void Y(null);let t=new Date(e),n=new Date(t.getTime()-72e5),i=new Date(t.getTime()+72e5);Y({centerTime:t,startTime:n,endTime:i})},eT=(0,l.useMemo)(()=>{if(0===Z.length)return[];let e=ei("light");return Z.map(t=>{var n;return{id:t.id,name:t.name,icon:t.icon,color:e[t.id]||"#8884d8",equity:t.equity,currentEquity:null!=(n=t.intermittentValue)?n:t.currentEquity,startingEquity:t.startingEquity}})},[Z]);return(0,i.jsx)("div",{className:"relative flex h-full w-full flex-col",children:(0,i.jsxs)("div",{className:"flex min-h-0 w-full flex-1 flex-col",children:[(0,i.jsxs)("div",{className:"relative -mt-4 flex min-h-0 flex-1 justify-center overflow-hidden transition-opacity duration-200 px-0.5 md:px-1 ".concat(M?"opacity-30":"opacity-100"),children:[(()=>{if(ee&&0===ep.length)return(0,i.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("h3",{className:"mb-2 text-lg font-semibold text-foreground sm:text-xl",children:"Loading Chart Data..."}),(0,i.jsx)("p",{className:"text-sm text-foreground-muted sm:text-base",children:(0,i.jsx)(r(),{text:"Initializing AI model performance data",speed:100,typingDelay:500,eraseDelay:5e3})})]})});if(w&&2===k.length){let e=eg.find(e=>e.id===k[0]),t=eg.find(e=>e.id===k[1]);return e&&t?(0,i.jsx)($,{primaryData:e.data,secondaryData:t.data,primaryColor:e.color,secondaryColor:t.color,primaryIcon:e.icon,secondaryIcon:t.icon,primaryId:e.id,secondaryId:t.id,primaryName:e.name,secondaryName:t.name,width:eu.width,height:eu.height,chartDataType:L,valueDisplayType:R,onValueDisplayTypeChange:P,onTimeRangeChange:W,timeRange:V,yDomain:ev,comparisonMode:!0,primaryStartingEquity:e.startingEquity,secondaryStartingEquity:t.startingEquity}):null}if("pnl"===L)return(0,i.jsx)(B,{data:eg,width:eu.width,height:eu.height,chartDataType:L,valueDisplayType:R,onValueDisplayTypeChange:P,onTimeRangeChange:W,onModelClick:eb,timeRange:V,yDomain:ev,chartViewType:I,onChartViewTypeChange:q});if(b&&eg.length>0){var e,t,n,l,a,s;return(0,i.jsx)(G,{data:(null==(e=eg[0])?void 0:e.data)||[],color:(null==(t=eg[0])?void 0:t.color)||"#6b7280",icon:(null==(n=eg[0])?void 0:n.icon)||"",id:(null==(l=eg[0])?void 0:l.id)||"unknown",name:(null==(a=eg[0])?void 0:a.name)||"Unknown",startingEquity:(null==(s=eg[0])?void 0:s.startingEquity)||(0,g.w3)(),width:eu.width,height:eu.height,chartDataType:L,valueDisplayType:R,onValueDisplayTypeChange:P,onTimeRangeChange:W,trades:x.filterTrades(eo,b),onModelClick:eb,timeRange:V,yDomain:ev,xDomain:H?[H.startTime,H.endTime]:void 0,comparisonMode:!1,onDataPointClick:ew},"focused-".concat(b))}return(0,i.jsx)(U,{data:eg,valueDisplayType:R,chartDataType:L,models:ep.map(e=>{var t;return{id:e.id,startingEquity:(0,g.w3)(),currentValue:(null==(t=e.data[e.data.length-1])?void 0:t.v)||0}}),onModelClick:eb,onValueDisplayTypeChange:P,chartViewType:I,onChartViewTypeChange:q,onTimeRangeChange:W,width:eu.width,height:eu.height,timeRange:V,yDomain:ev,comparisonMode:!1},"all-models")})(),H&&(0,i.jsx)("div",{className:"absolute bottom-4 right-4 z-10",children:(0,i.jsx)("button",{onClick:()=>Y(null),className:"cursor-pointer border border-green-800 bg-green-600 px-4 py-2 font-mono text-sm font-bold text-white transition-none hover:bg-green-700",children:"RESET_ZOOM"})}),(0,i.jsx)("div",{className:"absolute left-1/2 bottom-1 -translate-x-1/2 transform md:hidden z-10",children:(0,i.jsx)(K,{timeRange:V,setTimeRange:W})})]}),(0,i.jsx)("div",{className:"absolute right-1 top-1 md:right-2 md:top-2 z-10 hidden md:block",children:(0,i.jsx)(K,{timeRange:V,setTimeRange:W})}),(0,i.jsx)("div",{className:"absolute left-1 top-1 md:left-2 md:top-2 z-10 hidden md:block",children:(0,i.jsxs)("div",{className:"flex border border-black bg-white text-[6px] md:text-sm w-fit",children:[(0,i.jsx)("button",{onClick:()=>P("dollar"),className:"terminal-button-small border-r border-black px-1 py-0.5 whitespace-nowrap flex-shrink-0 ".concat("dollar"===R?"active":""),children:"$"}),(0,i.jsx)("button",{onClick:()=>P("percentage"),className:"terminal-button-small px-1 py-0.5 whitespace-nowrap flex-shrink-0 ".concat("percentage"===R?"active":""),children:"%"})]})}),(0,i.jsx)("div",{className:"absolute left-1/2 top-1 md:top-2 z-10 -translate-x-1/2 transform",children:(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[b&&(0,i.jsx)(es,{onClick:ey}),(0,i.jsx)(J,{chartDataType:L,setChartDataType:_})]})}),(0,i.jsx)("div",{className:"flex-shrink-0 bg-white hidden md:block",children:(0,i.jsx)(en,{models:eT,valueDisplayType:R,focusedModel:b,selectedModels:k,hoveredModel:C,comparisonSelectionMode:M,onModelClick:eb,onStartComparison:ej,onExitComparison:eN,onBackToAllModels:ey,setHoveredModel:S})})]})})}function es(e){let{onClick:t}=e,n=f("Escape");return(0,l.useEffect)(()=>{n&&t()},[n]),(0,i.jsx)("button",{onClick:t,className:"cursor-pointer border border-green-800 bg-green-600 px-1.5 py-0.5 md:px-3 md:py-1 font-mono text-[8px] md:text-xs font-medium text-white transition-none hover:bg-green-700",children:"BACK TO ALL"})}function eo(e){let{label:t,name:n,currentEquity:l,pnlPct:a,accent:r,icon:s}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("span",{className:"text-foreground-subtle",children:[t.toUpperCase(),":"," ",s&&(0,i.jsx)("img",{src:s,alt:n,className:"mr-2 inline size-4"}),(0,i.jsx)("span",{className:"text-foreground",children:n.toUpperCase()})," "]}),(0,i.jsxs)("span",{className:"text-black font-bold inline-flex items-baseline",children:[(0,i.jsx)("span",{children:"$"}),(0,i.jsx)(k,{value:l,duration:600,decimals:2,trend:"positive"===r?1:-1,format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}})]}),(0,i.jsxs)("span",{className:(0,v.r9)(a>=0),children:[a>=0?"+":"",a.toFixed(2),"%"]})]})}function ec(e){let{label:t,icon:n,name:l,equity:a,tone:r}=e;return(0,i.jsx)("div",{className:"flex items-center space-x-2",children:(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,i.jsxs)("span",{className:"text-foreground-subtle",children:[t,":"]}),(0,i.jsx)("img",{src:n||"/logos/NOF1 SQUARE WHITE.png",alt:l,className:"h-4 w-4 rounded"}),(0,i.jsxs)("span",{className:"text-black font-bold inline-flex items-baseline",children:[(0,i.jsx)("span",{children:"$"}),(0,i.jsx)(k,{value:a,duration:600,decimals:2,trend:"positive"===r?1:-1,format:{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}})]})]})})}var ed=n(2851),em=n.n(ed);let ex={btc:"/coins/btc.svg",eth:"/coins/eth.svg",sol:"/coins/sol.svg",doge:"/coins/doge.svg",xrp:"/coins/xrp.svg",bnb:"/coins/bnb.svg"};function eu(e){let{coin:t,className:n}=e;return(0,i.jsx)("img",{src:ex[em().toLower(t)],alt:t,className:n})}function eh(e){let{trade:t}=e,n=Math.abs((t.quantity||0)*(t.entry_price||0)),l=Math.abs((t.quantity||0)*(t.exit_price||0)),a=function(e,t){let n=(t-e)*1e3,i=Math.floor(n/36e5),l=Math.floor(n%36e5/6e4);return i>0?"".concat(i,"H ").concat(l,"M"):"".concat(l,"M")}(t.entry_time,t.exit_time);return t.exit_price,t.entry_price,(0,i.jsxs)("div",{className:"relative space-y-0.5 text-[10px] sm:text-xs",children:[(0,i.jsxs)("div",{className:"font-mono text-black font-normal",children:["Price: ",(0,v.F)(t.entry_price||0)," → ",(0,i.jsx)("span",{className:"text-black",children:(0,v.F)(t.exit_price||0)})]}),(0,i.jsxs)("div",{className:"font-mono text-black font-normal",children:["Quantity: ",t.quantity&&t.quantity<0?"-":"",Math.abs(t.quantity||0).toFixed(2)]}),(0,i.jsxs)("div",{className:"font-mono text-black font-normal",children:["Notional: ",(0,v.vv)(n)," → ",(0,i.jsx)("span",{className:"text-black",children:(0,v.vv)(l)})]}),(0,i.jsxs)("div",{className:"font-mono text-black font-normal",children:["Holding time: ",a]}),(0,i.jsxs)("div",{className:"mt-3 flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"font-mono text-xs sm:text-sm text-black font-normal uppercase tracking-wide",children:"Net P&L:"}),(0,i.jsxs)("span",{className:"font-mono text-sm sm:text-base font-semibold ".concat((t.realized_net_pnl||0)>=0?"text-green-600":"text-red-600"),children:[(t.realized_net_pnl||0)>=0?"$":"-$",Math.abs(t.realized_net_pnl||0).toFixed(2)]})]})]})}function ep(e){let t=(0,m.dn)(e.model_id);return(0,i.jsx)("div",{className:"group bg-white transition-all duration-300",style:{backgroundColor:(null==t?void 0:t.color)?"".concat(t.color,"08"):"white"},children:(0,i.jsxs)("div",{className:"border-b border-gray-400 p-1 sm:p-2 mx-1 sm:mx-2",children:[(0,i.jsxs)("div",{className:"mb-1.5 flex items-start justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 max-w-[75%]",children:[(0,i.jsx)("img",{src:null==t?void 0:t.icon,alt:null==t?void 0:t.name,className:"size-4"}),(0,i.jsxs)("span",{className:"font-mono text-[10px] sm:text-xs text-black font-semibold",children:[(0,i.jsx)("span",{style:{color:(null==t?void 0:t.color)||"inherit"},children:null==t?void 0:t.name})," completed a"," ",(0,i.jsx)("span",{className:"".concat("long"===e.trade_type?"terminal-positive":"terminal-negative"),children:e.trade_type})," ","trade on"," ",(0,i.jsxs)("span",{className:"inline-flex items-baseline gap-1 font-semibold",children:[(0,i.jsx)(eu,{coin:e.symbol,className:"size-3 pt-0.5"}),e.symbol]}),"!"]})]}),(0,i.jsx)("span",{className:"font-mono text-[10px] text-gray-500 font-normal",children:new Date(1e3*e.exit_time).toLocaleString("en-US",{month:"2-digit",day:"2-digit",hour:"numeric",minute:"2-digit",hour12:!0})})]}),(0,i.jsx)(eh,{trade:e})]})})}function ef(e){let{terminalClassName:t,feedName:n,statusText:l}=e;return(0,i.jsxs)("div",{className:"".concat(t," space-y-1 p-2"),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:t,children:">"}),(0,i.jsx)(r(),{text:"INITIALIZING ".concat(n," FEED..."),speed:100,typingDelay:0,eraseDelay:1e4})]}),(0,i.jsxs)("div",{className:"ml-4 flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"terminal-warning",children:"["}),(0,i.jsx)("span",{className:"animate-pulse",children:"████████████"}),(0,i.jsx)("span",{className:"terminal-warning",children:"]"})]}),(0,i.jsx)("div",{className:"ml-4 flex items-center space-x-2",children:(0,i.jsxs)("span",{className:"terminal-blue",children:["STATUS: ",l]})})]})}function eg(e){let{error:t}=e;return(0,i.jsx)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface p-4 text-xs",children:(0,i.jsxs)("div",{className:"terminal-negative space-y-1",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"terminal-negative",children:">"}),(0,i.jsx)("span",{children:"ERROR: CONNECTION FAILED"})]}),(0,i.jsxs)("div",{className:"terminal-negative ml-4",children:[(0,i.jsx)("div",{children:"CODE: 0x0000003C"}),(0,i.jsx)("div",{children:"DESC: UNABLE TO FETCH POSITION DATA"}),t&&(0,i.jsxs)("div",{children:["DETAIL: ",t]})]})]})})}function ev(e){var t;let{focusedModel:n,onChange:a,tradeCount:r,mobileMode:o=!1}=e,[c,d]=(0,l.useState)(!1),m=function(e){let t=(0,l.useRef)(null),n=f("Escape");(0,l.useEffect)(function(){n&&e()},[n]);let i=n=>{t.current&&!t.current.contains(n.target)&&e()};return(0,l.useEffect)(()=>(document.addEventListener("mousedown",i),()=>{document.removeEventListener("mousedown",i)}),[t,e]),t}(()=>d(!1)),{models:x}=(0,s.Q)(),u=x.filter(e=>!e.id.includes("buynhold")).map(e=>({id:e.id,name:e.name,icon:e.icon})).filter((e,t,n)=>n.findIndex(t=>t.id===e.id)===t),h=n?(null==(t=u.find(e=>e.id===n))?void 0:t.name.toUpperCase())||n.toUpperCase():"ALL MODELS";return(0,i.jsx)("div",{className:o?"":"border-b border-border bg-surface-elevated px-2 pb-1",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,i.jsx)("span",{className:"text-terminal-green font-mono text-xs font-bold",children:"FILTER:"}),(0,i.jsxs)("div",{className:"relative",ref:m,children:[(0,i.jsxs)("button",{onClick:()=>d(!c),className:"terminal-text hover:border-terminal-green focus:border-terminal-green flex items-center space-x-1 border border-border bg-surface px-1 py-0.5 font-mono text-xs font-normal focus:outline-none",children:[(0,i.jsx)("span",{children:h}),(0,i.jsx)("span",{className:"text-terminal-green",children:"▼"})]}),c&&(0,i.jsxs)("div",{className:"absolute left-0 top-full z-50 mt-1 min-w-[140px] border border-border bg-surface shadow-lg",children:[(0,i.jsx)("div",{className:"terminal-text cursor-pointer px-2 py-1 font-mono text-xs hover:bg-surface-elevated",onClick:()=>{a(null),d(!1)},children:"ALL MODELS"}),u.map(e=>(0,i.jsxs)("div",{className:"terminal-text flex cursor-pointer items-center space-x-1 px-2 py-1 font-mono text-xs hover:bg-surface-elevated",onClick:()=>{a(e.id),d(!1)},children:[(0,i.jsx)("img",{src:e.icon||"/logos/NOF1 SQUARE WHITE.png",alt:e.name,className:"size-3 flex-shrink-0"}),(0,i.jsx)("span",{children:e.name.toUpperCase()})]},e.id))]})]}),n&&(0,i.jsx)("button",{onClick:()=>a(null),className:"terminal-text text-terminal-negative px-1 font-mono text-[11px] hover:text-red-400",children:"CLEAR"})]}),void 0!==r&&(0,i.jsxs)("span",{className:"text-terminal-green font-mono text-xs ml-auto text-right",children:["Showing Last ",r," Trades"]})]})})}function eb(e){let{focusedModel:t}=e;return(0,i.jsx)("div",{className:"terminal-text space-y-1",children:(0,i.jsxs)("div",{className:"ml-4 terminal-text text-md",children:[(0,i.jsx)("div",{children:"AWAITING TRADE EXECUTION..."}),(0,i.jsx)("div",{className:"font-medium",children:"NO POSITIONS HAVE CLOSED FOR THIS MODEL"}),(0,i.jsx)("div",{className:"font-medium",children:"VIEW POSITIONS TAB FOR OPEN POSITIONS"})]})})}function ey(){let{focusedModel:e,focusModel:t}=p(),{trades:n,lastUpdateTime:l,isLoading:a,error:r}=(0,o.d)(),s=x.filterTrades(n,e).sort((e,t)=>t.exit_time-e.exit_time);return(0,i.jsx)("div",{className:"live-trades terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden font-mono text-xs font-black",children:a?(0,i.jsx)(ef,{terminalClassName:"terminal-positive",feedName:"TRADE",statusText:"CONNECTING TO SERVER"}):r?(0,i.jsx)(eg,{}):(0,i.jsxs)("div",{className:"flex h-full flex-col",children:[(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(ev,{focusedModel:e,onChange:t,tradeCount:s.length>0?Math.min(100,s.length):void 0})}),0===s.length?(0,i.jsx)(eb,{focusedModel:e}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"sticky top-0 z-10 hidden border-b-2 border-border pb-1 backdrop-blur"}),(0,i.jsx)("div",{className:"overflow-auto",children:s.slice(0,100).map(e=>(0,i.jsx)("div",{className:"transition-all duration-300 ease-out",children:(0,i.jsx)(ep,{...e})},e.id))})]})]})})}var ej=n(8284);n(3261);var eN=n(8230),ew=n.n(eN),eT=n(1367),ek=n(1906),eE=n(75),eC=n(1928);let eS={code:function(e){let{node:t,inline:n,className:l,children:a,...r}=e;return n?(0,i.jsx)("code",{className:"".concat(l," rounded-md bg-zinc-100 px-1 py-0.5 text-sm dark:bg-zinc-800"),...r,children:a}):(0,i.jsx)("div",{className:"not-prose flex flex-col",children:(0,i.jsx)("pre",{...r,className:"w-full overflow-x-auto rounded-xl border border-zinc-200 p-4 text-sm text-zinc-900 dark:border-zinc-700 dark:bg-zinc-900 dark:text-zinc-50",children:(0,i.jsx)("code",{className:"whitespace-pre-wrap break-words",children:a})})})},blockquote:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("blockquote",{className:"my-2 rounded-r border-l-4 border-zinc-300 bg-zinc-50 py-1 pl-4 text-zinc-700 dark:border-zinc-700 dark:bg-zinc-900/50 dark:!text-zinc-200",...l,children:n})},th:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("th",{className:"dark:text-zinc-100",...l,children:n})},pre:e=>{let{children:t}=e;return(0,i.jsx)(i.Fragment,{children:t})},ol:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("ol",{className:"ml-4 list-outside list-decimal",...l,children:n})},li:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("li",{className:"py-1",...l,children:n})},ul:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("ul",{className:"ml-4 list-outside list-decimal",...l,children:n})},strong:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("span",{className:"font-semibold",...l,children:n})},a:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)(ew(),{className:"text-blue-500 hover:underline",target:"_blank",rel:"noreferrer",...l,children:n})},h1:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("h1",{className:"mb-2 mt-6 text-3xl font-semibold dark:text-zinc-100",...l,children:n})},h2:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("h2",{className:"mb-2 mt-6 text-2xl font-semibold dark:text-zinc-100",...l,children:n})},h3:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("h3",{className:"mb-2 mt-6 text-sm font-semibold text-black dark:text-zinc-400",...l,children:n})},h4:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("h4",{className:"mb-2 mt-6 text-lg font-semibold dark:text-zinc-100",...l,children:n})},h5:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("h5",{className:"mb-2 mt-6 text-base font-semibold dark:text-zinc-100",...l,children:n})},h6:e=>{let{node:t,children:n,...l}=e;return(0,i.jsx)("h6",{className:"mb-2 mt-6 text-sm font-semibold dark:text-zinc-100",...l,children:n})}},eM=[ek.A,eC.A],eD=(0,l.memo)(e=>{let{children:t}=e;return(0,i.jsx)(eT.oz,{remarkPlugins:eM,rehypePlugins:[eE.A],components:eS,children:t})},(e,t)=>e.children===t.children);function eA(e){let{title:t,open:n,onToggle:l,children:a}=e;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("button",{onClick:e=>{e.stopPropagation(),l()},className:"mb-2 flex w-full items-center space-x-2 text-left",children:[(0,i.jsx)("span",{className:"transform text-foreground-subtle transition-transform ".concat(n?"rotate-90":""),children:"▶"}),(0,i.jsx)("span",{className:"font-mono text-sm text-foreground-subtle",children:t})]}),n&&(0,i.jsx)("div",{className:"ml-4",children:a})]})}let eO=["BTC","ETH","DOGE","SOL","XRP","BNB"],eL={buy_to_enter:"bg-accent-success/20 border-accent-success text-accent-success",sell_to_enter:"bg-accent-error/20 border-accent-error text-accent-error",close_position:"bg-accent-warning/20 border-accent-warning text-accent-warning",hold:"bg-blue-500/20 border-blue-500 text-blue-500"};function e_(e){let{modelName:t,modelLogo:n,modelColor:l,firstSentence:a,timestamp:r,llmResponse:s,conversationId:o,onViewFullConversation:c,isExpanded:d,conversation:m,showCotTrace:x,setShowCotTrace:u,showTradingDecisions:h,setShowTradingDecisions:p,showUserPrompt:f,setShowUserPrompt:g}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"group",children:(0,i.jsxs)("div",{className:"group cursor-pointer bg-white px-2 py-2 transition-colors hover:opacity-80",onClick:()=>c(o),children:[(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("img",{src:n,alt:t,className:"size-6 flex-shrink-0 mt-6"}),(0,i.jsxs)("div",{className:"flex-1",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,i.jsx)("span",{className:"terminal-text text-sm font-semibold",style:{color:l},children:t.toUpperCase()}),(0,i.jsx)("span",{className:"terminal-text text-[9px] text-gray-500",children:r})]}),(0,i.jsxs)("div",{className:"relative rounded p-3 border",style:{borderColor:l,backgroundColor:"".concat(l,"0D")},children:[(0,i.jsx)("div",{className:"terminal-text text-xs leading-relaxed text-black",children:a}),(0,i.jsx)("div",{className:"absolute right-2 pointer-events-none",style:{bottom:"0.08rem"},children:(0,i.jsx)("span",{className:"text-[8px] text-gray-400 italic",children:"click to expand"})})]})]})]}),(0,i.jsxs)("div",{className:"mt-3 space-y-3 border-t border-gray-800 pt-3 ".concat(d&&m?"min-h-[100px]":"min-h-0 hidden"," transition-all"),children:[m.user_prompt&&(0,i.jsx)(eA,{title:"USER_PROMPT",open:f,onToggle:()=>g(!f),children:(0,i.jsx)("div",{className:"rounded border border-border bg-surface-elevated p-3 text-black",children:(0,i.jsx)(eD,{children:m.user_prompt})})}),(0,i.jsx)(eA,{title:"CHAIN_OF_THOUGHT",open:x,onToggle:()=>u(!x),children:(0,i.jsx)("div",{className:"rounded border border-border bg-surface-elevated p-3 text-black",children:m.cot_trace?"string"==typeof m.cot_trace?(0,i.jsx)(eD,{children:m.cot_trace}):"object"==typeof m.cot_trace&&null!==m.cot_trace&&0===Object.keys(m.cot_trace).length?(0,i.jsx)("div",{className:"py-4 text-center font-mono text-foreground-subtle",children:"No chain of thought available"}):(0,i.jsx)(eD,{children:JSON.stringify(m.cot_trace,null,2)}):(0,i.jsx)("div",{className:"text-gray-500 italic",children:"Chain of Thought is not available for this model"})})}),(0,i.jsx)(eA,{title:"TRADING_DECISIONS",open:h,onToggle:()=>p(!h),children:m.llm_response?"object"==typeof m.llm_response&&null!==m.llm_response&&Object.keys(m.llm_response).some(e=>eO.includes(e))?(0,i.jsx)("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(m.llm_response).sort((e,t)=>{var n,i;let[,l]=e,[,a]=t,r=null==l||null==(n=l.signal)?void 0:n.toLowerCase(),s=null==a||null==(i=a.signal)?void 0:i.toLowerCase();return"hold"===r&&"hold"!==s?1:"hold"!==r&&"hold"===s?-1:0}).map(e=>{let[t,n]=e;return(0,i.jsxs)("div",{className:"rounded border border-border bg-surface-elevated p-3 transition-colors hover:bg-surface-hover",children:[(0,i.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,i.jsx)("span",{className:"font-mono font-bold text-foreground",children:t}),(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"rounded border px-2 py-1 font-mono text-xs ".concat(function(e){let t=null==e?void 0:e.toLowerCase();return t&&eL[t]||"border-border bg-surface-hover text-foreground-subtle"}(n.signal)),children:n.signal.replace("_"," ").toUpperCase()}),(0,i.jsxs)("span",{className:"font-mono text-xs text-foreground-subtle",children:[Math.round(100*n.confidence),"%"]})]})]}),(0,i.jsx)("div",{className:"mb-2",children:(0,i.jsx)(eD,{children:n.justification})}),(0,i.jsxs)("p",{className:"font-mono text-xs text-foreground-subtle",children:["QUANTITY: ",n.quantity]})]},t)})}):(0,i.jsx)("div",{className:"rounded border border-border bg-surface-elevated p-3",children:"object"==typeof m.llm_response&&null!==m.llm_response&&0===Object.keys(m.llm_response).length?(0,i.jsx)("div",{className:"py-4 text-center font-mono text-foreground-subtle",children:"No trading decisions to show"}):(0,i.jsx)(eD,{children:"string"==typeof m.llm_response?m.llm_response:"object"==typeof m.llm_response&&null!==m.llm_response?JSON.stringify(m.llm_response,null,2):String(m.llm_response)})}):(0,i.jsx)("div",{className:"py-4 text-center font-mono text-foreground-subtle",children:"NO TRADING DECISIONS AVAILABLE"})})]})]})})})}function eI(){var e;let{focusedModel:t,focusModel:n}=p(),{conversations:a,isLoading:r,error:s,newConversations:o,clearNewConversations:c}=function(){var e,t;let[n,i]=(0,l.useState)([]),{data:a,error:r,isLoading:s,mutate:o}=(0,ej.Y)("/api/conversations",{revalidateOnFocus:!1,revalidateOnReconnect:!1,refreshInterval:15e3}),c=(null!=(e=null==a?void 0:a.conversations)?e:[]).map(e=>{let t=function(e){let t=e.split("_"),n=parseFloat(t[t.length-1]);return isNaN(n)?Date.now()/1e3:n}(e.id),n=e.model_name||e.id.split("_")[0];return{id:e.id,run_id:e.run_id||"",model_name:n,cot_trace:e.cot_trace,cot_trace_summary:e.cot_trace_summary,user_prompt:e.user_prompt,llm_response:e.llm_response,cycle_id:e.cycle_id,timestamp:e.timestamp,trade_exit_time:t,trade_log_count:0,model_id:n,symbol:"N/A",realized_net_pnl:void 0}}).sort((e,t)=>t.trade_exit_time-e.trade_exit_time),d=new Set(c.map(e=>e.model_id)).size,m=new Set(c.map(e=>e.run_id)).size,x={totalConversations:c.length,uniqueModels:d,uniqueRunIds:m},u=null!=(t=null==a?void 0:a.serverTime)?t:null;return{conversations:c,isLoading:s,isInitialLoad:s,error:r?r instanceof Error?r.message:"Failed to fetch conversations":null,lastUpdateTime:u,serverTime:u,refresh:o,stats:x,newConversations:n,clearNewConversations:()=>{i([])}}}(),[d,u]=(0,l.useState)(null),[h,f]=(0,l.useState)(!0),[g,v]=(0,l.useState)(!0),[b,y]=(0,l.useState)(!0);(0,l.useEffect)(()=>{if(o.length>0){let e=setTimeout(()=>{c()},3e3);return()=>clearTimeout(e)}},[o,c]);let j=e=>{u(t=>t===e?null:e)};if(r)return(0,i.jsx)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:(0,i.jsx)(ef,{terminalClassName:"text-foreground",feedName:"CHAT",statusText:"CONNECTING TO CONVERSATION API"})});if(s)return(0,i.jsx)(eg,{error:s});let N=x.filterConversations(a,t).filter(e=>e.cot_trace_summary).slice(0,200);return(0,i.jsxs)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:[(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(ev,{focusedModel:t,onChange:n})}),0===N.length?(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"space-y-1 text-foreground-subtle",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"text-foreground",children:">"}),(0,i.jsx)("span",{children:"SYSTEM READY"})]}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("div",{className:"text-foreground-subtle",children:"AWAITING MODEL CONVERSATIONS..."}),(0,i.jsx)("div",{className:"text-foreground-subtle",children:"NO ACTIVE CHAT SESSIONS"}),t&&(0,i.jsxs)("div",{className:"terminal-text mt-2 text-foreground",children:["FILTER: ",((null==(e=(0,m.dn)(t))?void 0:e.name)||t).toUpperCase()]})]})]})}):(0,i.jsx)("div",{className:"scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-200 min-h-0 flex-1 overflow-auto",children:(0,i.jsx)("div",{className:"space-y-0",children:N.map(e=>{let t,n=(e=>{if(!e||"string"!=typeof e)return{name:"Unknown Model",icon:"/logos/OpenAI_logo.png",color:"#10B981"};let t=(0,m.dn)(e),n=null==t?void 0:t.id;return t?{id:n,name:t.name,icon:t.icon,color:t.color}:{id:e,name:e,icon:"/logos/NOF1 SQUARE WHITE.png",color:"#6b7280"}})(e.model_name),l=(e=>{var t;if(!e||"string"!=typeof e)return"No reasoning available";let n=null==(t=e.split(/[.!?]+/)[0])?void 0:t.trim();return n&&n.length>150?n.substring(0,147)+"...":n||"No reasoning available"})(e.cot_trace||""),a=e.cot_trace_summary||l,r=function(e){let t=new Date(1e3*e),n=t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"}),i=null==t?void 0:t.toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"});return"".concat(n," ").concat(i)}(e.trade_exit_time);return t=e.id,o.some(e=>e.id===t),(0,i.jsx)("div",{className:"transition-all duration-300 ease-out",children:(0,i.jsx)(e_,{modelName:n.name,modelLogo:n.icon,modelColor:n.color,firstSentence:a,timestamp:r,llmResponse:e.llm_response,conversationId:e.id,onViewFullConversation:j,isExpanded:d===e.id,conversation:e,showCotTrace:h,setShowCotTrace:f,showUserPrompt:g,setShowUserPrompt:v,showTradingDecisions:b,setShowTradingDecisions:y})},e.id)})})})]})}function eq(e){let t=(0,m.mA)(e);return"grok-4"===e?"#000000":(null==t?void 0:t.color)||"#6b7280"}function ez(e){let{onNavigateToLiveTrades:t}=e;return(0,i.jsx)("div",{className:"prose flex h-full flex-col overflow-y-auto bg-white p-6",children:(0,i.jsxs)("div",{className:"min-h-0 space-y-6 pb-32 text-[13px] leading-relaxed text-black terminal-text",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-bold text-gray-800 mb-3 text-base",children:"A Better Benchmark"}),(0,i.jsx)("b",{children:"Alpha Arena"})," is the first benchmark designed to measure AI's investing abilities. Each model is given $10,000 of ",(0,i.jsx)("b",{className:"terminal-positive",children:"real money"}),", in ",(0,i.jsx)("b",{className:"terminal-positive",children:"real markets"}),", with identical prompts and input data."]}),(0,i.jsx)("div",{children:"Our goal with Alpha Arena is to make benchmarks more like the real world, and markets are perfect for this. They're dynamic, adversarial, open-ended, and endlessly unpredictable. They challenge AI in ways that static benchmarks cannot."}),(0,i.jsx)("div",{children:(0,i.jsx)("b",{children:"Markets are the ultimate test of intelligence."})}),(0,i.jsx)("div",{children:"So do we need to train models with new architectures for investing, or are LLMs good enough? Let's find out."}),(0,i.jsx)("div",{className:"my-6 h-px w-full rounded bg-black"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"font-bold text-gray-800 text-base",children:"The Contestants"})}),(0,i.jsx)("div",{className:"ml-4",children:(0,i.jsxs)("div",{className:"flex flex-wrap gap-x-2 gap-y-2",children:[(0,i.jsx)("span",{style:{color:eq("claude-sonnet-4-5")},className:"font-medium",children:"Claude 4.5 Sonnet,"}),(0,i.jsx)("span",{style:{color:eq("deepseek-chat-v3.1")},className:"font-medium",children:"DeepSeek V3.1 Chat,"}),(0,i.jsx)("span",{style:{color:eq("gemini-2.5-pro")},className:"font-medium",children:"Gemini 2.5 Pro,"}),(0,i.jsx)("span",{style:{color:eq("gpt-5")},className:"font-medium",children:"GPT 5,"}),(0,i.jsx)("span",{style:{color:eq("grok-4")},className:"font-medium",children:"Grok 4,"}),(0,i.jsx)("span",{style:{color:eq("qwen3-max")},className:"font-medium",children:"Qwen 3 Max"})]})})]}),(0,i.jsx)("div",{className:"my-6 h-px w-full rounded bg-black"}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsx)("div",{children:(0,i.jsx)("span",{className:"font-bold text-gray-800 text-base",children:"Competition Rules"})}),(0,i.jsxs)("div",{className:"ml-4 space-y-1",children:[(0,i.jsxs)(eF,{children:[(0,i.jsx)("b",{children:"Starting Capital:"})," each model gets $10,000 of real capital"]}),(0,i.jsxs)(eF,{children:[(0,i.jsx)("b",{children:"Market:"})," Crypto perpetuals on Hyperliquid"]}),(0,i.jsxs)(eF,{children:[(0,i.jsx)("b",{children:"Objective:"})," Maximize risk-adjusted returns."]}),(0,i.jsxs)(eF,{children:[(0,i.jsx)("b",{children:"Transparency:"})," All model outputs and their corresponding trades are public."]}),(0,i.jsxs)(eF,{children:[(0,i.jsx)("b",{children:"Autonomy:"})," Each AI must produce alpha, size trades, time trades and manage risk."]}),(0,i.jsxs)(eF,{children:[(0,i.jsx)("b",{children:"Duration:"})," Season 1 will run until November 3rd, 2025 at 5 p.m. EST"]})]})]}),(0,i.jsx)("div",{className:"h-8"})]})})}function eF(e){let{children:t}=e;return(0,i.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,i.jsx)("span",{style:{color:"#666666"},children:"└─"}),(0,i.jsx)("span",{className:"text-black",children:t})]})}function eR(){var e;let{focusedModel:t,focusModel:n}=p(),{positionPnLs:a}=(0,s.Q)(),{prices:r}=(0,c.r)(),{latestAccountDataByModel:o,isLoading:x,error:u}=(0,d.q)(),[h,f]=(0,l.useState)(null),g=e=>{let t=Math.abs(e);return t>=1e3?t.toFixed(0):t.toFixed(2)};if((0,l.useEffect)(()=>{let e=()=>{h&&f(null)},t=()=>{h&&f(null)};if(h){document.addEventListener("click",e);let n=document.querySelector(".overflow-auto");return n&&n.addEventListener("scroll",t),()=>{document.removeEventListener("click",e),n&&n.removeEventListener("scroll",t)}}},[h]),x)return(0,i.jsx)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:(0,i.jsx)(ef,{terminalClassName:"text-foreground",feedName:"POSITIONS",statusText:"CONNECTING TO SERVER"})});if(u)return(0,i.jsx)(eg,{error:u});let b=Object.entries(o).reduce((e,n)=>{let[i,l]=n,s=(0,m.dn)(i);if(!s||t&&i!==t)return e;let o=l.positions||{};if(0===Object.keys(o).length)return e;e[i]||(e[i]={modelInfo:s,positions:[]});let c=0;return Object.entries(o).forEach(t=>{let[n,l]=t;if(l){var s,o;let t=l.symbol||l.coin||n,d=(null==(s=a[i])?void 0:s[t])||0;c+=d;let m=(null==(o=r[t])?void 0:o.price)||0,x=l.entry_price||0,u=l.position||l.quantity||0,h=Math.abs(m*u);e[i].positions.push({coin:t,position:u,unrealizedPnl:d,leverage:l.leverage,notional:h,entryPrice:x,currentPrice:m,exitPlan:l.exit_plan,entryTime:l.entry_time})}}),e[i].totalUnrealizedPnl=c,e},{});return(0,i.jsxs)("div",{className:"terminal-text flex h-full min-h-0 flex-1 flex-col overflow-hidden bg-surface text-xs",children:[(0,i.jsx)("div",{className:"hidden md:block",children:(0,i.jsx)(ev,{focusedModel:t,onChange:n})}),(0,i.jsxs)("div",{className:"overflow-auto",children:[(()=>{let e=Object.values(b).filter(e=>{let{modelInfo:t}=e;return!t.id.includes("buynhold")});return e.length>=4&&([e[2],e[3]]=[e[3],e[2]]),e.map(e=>{let{modelInfo:t,positions:n,totalUnrealizedPnl:l}=e;return(0,i.jsxs)("div",{className:"pb-0",style:{backgroundColor:"".concat(t.color,"1A")},children:[(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{src:t.icon,alt:t.name,className:"mr-2 size-4"}),(0,i.jsx)("span",{className:"text-sm font-semibold",style:{color:t.color},children:t.name.toUpperCase()})]}),(0,i.jsxs)("div",{className:"text-right pr-3",children:[(0,i.jsx)("span",{className:"text-xs md:text-[11px] font-medium text-black",children:"TOTAL UNREALIZED P&L: "}),(0,i.jsx)("span",{className:"text-xs md:text-[11px] font-medium ".concat(l>=0?"terminal-positive":"terminal-negative"),children:"".concat((0,v.Oi)(l))})]})]}),(0,i.jsxs)("div",{className:"space-y-2 pl-1 pr-1 relative",children:[(0,i.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-[9px] font-medium text-black border-b border-gray-300 pb-1",children:[(0,i.jsx)("div",{children:"SIDE"}),(0,i.jsx)("div",{children:"COIN"}),(0,i.jsx)("div",{children:"LEVERAGE"}),(0,i.jsx)("div",{children:"NOTIONAL"}),(0,i.jsx)("div",{children:"EXIT PLAN"}),(0,i.jsx)("div",{children:"UNREAL P&L"})]}),n.length>0?(0,i.jsx)(i.Fragment,{children:n.map((e,n)=>{let l="".concat(t.id,"-").concat(e.coin),a=(null==h?void 0:h.key)===l;return(0,i.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-xs relative",children:[(0,i.jsx)("div",{className:e.position>0?"terminal-positive":"terminal-negative",children:e.position>0?"LONG":"SHORT"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{src:"/coins/".concat(e.coin.toLowerCase(),".svg"),alt:e.coin,className:"w-4 h-4 mr-1",onError:e=>{e.currentTarget.style.display="none"}}),(0,i.jsx)("span",{children:e.coin})]}),(0,i.jsxs)("div",{children:[e.leverage,"X"]}),(0,i.jsx)("div",{className:e.notional>=0?"terminal-positive":"terminal-negative",children:(0,v.vv)(e.notional)}),(0,i.jsxs)("div",{className:"relative inline-block",children:[(0,i.jsx)("button",{onClick:e=>{if(e.stopPropagation(),a)f(null);else{let t=e.currentTarget.getBoundingClientRect();f({key:l,x:t.right,y:t.top})}},className:"px-2 py-0 text-[8px] border border-gray-400 bg-white hover:bg-gray-50 transition-colors h-4 flex items-center",children:"VIEW"}),a&&h&&(0,i.jsxs)("div",{className:"fixed bg-white border border-gray-300 p-1 text-[10px] shadow-lg z-50 leading-tight min-w-[250px] max-w-[350px]",style:{left:"".concat(h.x-250,"px"),top:"".concat(h.y-10,"px"),transform:"translateY(-100%)"},children:[(0,i.jsx)("div",{className:"font-semibold mb-0.5",children:"Exit Plan:"}),e.exitPlan?(0,i.jsxs)("div",{className:"space-y-0.5",children:[e.exitPlan.profit_target&&(0,i.jsxs)("div",{className:"leading-tight break-words",children:["Target: $",g(e.exitPlan.profit_target)]}),e.exitPlan.stop_loss&&(0,i.jsxs)("div",{className:"leading-tight break-words",children:["Stop: $",g(e.exitPlan.stop_loss)]}),e.exitPlan.invalidation_condition&&(0,i.jsxs)("div",{className:"leading-tight break-words",children:["Invalid Condition: ",e.exitPlan.invalidation_condition]})]}):(0,i.jsx)("div",{className:"leading-tight",children:"No exit plan"})]})]}),(0,i.jsx)("div",{className:e.unrealizedPnl>=0?"terminal-positive":"terminal-negative",children:(e.unrealizedPnl,"".concat((0,v.vv)(e.unrealizedPnl)))})]},n)})}):(0,i.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-xs text-gray-500",children:[(0,i.jsx)("div",{children:"--"}),(0,i.jsx)("div",{children:"--"}),(0,i.jsx)("div",{children:"--"}),(0,i.jsx)("div",{children:"--"}),(0,i.jsx)("div",{children:"--"}),(0,i.jsx)("div",{children:"--"})]})]}),(0,i.jsxs)("div",{className:"mt-2 pl-1 -mb-2",children:[(0,i.jsx)("span",{className:"text-[9px] md:text-[9px] font-medium text-black",children:"AVAILABLE CASH: "}),(0,i.jsx)("span",{className:"text-[9px] md:text-[9px] font-medium text-black",children:(0,v.Oi)((e=>{let t=o[e];return t?(Number(t.dollar_equity)||0)-Object.values(t.positions||{}).reduce((e,t)=>e+(Number(t.margin)||0),0):0})(t.id))})]})]}),(0,i.jsx)("div",{className:"border-b border-gray-600 mx-2"})]},t.id)})})(),0===Object.keys(b).length&&(0,i.jsx)("div",{className:"p-4",children:(0,i.jsxs)("div",{className:"space-y-1 text-foreground-subtle",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("span",{className:"text-foreground",children:">"}),(0,i.jsx)("span",{children:"SYSTEM READY"})]}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("div",{className:"text-foreground-subtle",children:"AWAITING ACTIVE POSITIONS..."}),(0,i.jsx)("div",{className:"text-foreground-subtle",children:"NO OPEN LONGS OR SHORTS"}),t&&(0,i.jsxs)("div",{className:"terminal-text mt-2 text-foreground",children:["FILTER: ",((null==(e=(0,m.dn)(t))?void 0:e.name)||t).toUpperCase()]})]})]})})]})]})}function eP(){let e,[t,n]=(0,l.useState)("liveTrades");(0,l.useEffect)(()=>{sessionStorage.getItem("hasNavigated")?n("liveTrades"):(n("about"),sessionStorage.setItem("hasNavigated","true"))},[]);let a={activeTab:t,setActiveTab:n};return e="liveTrades"===t?(0,i.jsx)(ey,{}):"modelchat"===t?(0,i.jsx)(eI,{}):"positions"===t?(0,i.jsx)(eR,{}):(0,i.jsx)(ez,{onNavigateToLiveTrades:()=>n("liveTrades")}),(0,i.jsxs)("div",{className:"flex h-full min-h-0 flex-col",children:[(0,i.jsxs)("div",{className:"mb-1 flex border-b-2 border-t md:border-t-0 border-border",children:[(0,i.jsx)(eU,{label:"COMPLETED TRADES",tab:"liveTrades",...a}),(0,i.jsx)(eU,{label:"MODELCHAT",tab:"modelchat",...a}),(0,i.jsx)(eU,{label:"POSITIONS",tab:"positions",...a}),(0,i.jsx)(eU,{label:"README.TXT",tab:"about",...a})]}),(0,i.jsx)("div",{className:"min-h-0 flex-1",children:e})]})}function eU(e){let{activeTab:t,label:n,setActiveTab:l,tab:a}=e;return(0,i.jsx)("button",{onClick:()=>l(a),className:"terminal-text flex-1 border-r-2 border-border px-3 py-0.5 md:py-2 text-[8px] md:text-[10px] ".concat(t===a?"bg-black text-white":"bg-white text-black hover:bg-gray-100"),children:n})}function eV(e){let{isOpen:t,onClose:n,title:a,children:r,headerContent:s}=e;return(0,l.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"fixed top-[136px] bottom-0 right-0 w-full bg-white z-[70] md:hidden transform transition-transform duration-300 ease-in-out flex flex-col ".concat(t?"translate-x-0":"translate-x-full"),children:[(0,i.jsxs)("div",{className:"border-b-2 border-black bg-white flex-shrink-0",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between px-4 py-3",children:[(0,i.jsx)("h2",{className:"terminal-text text-sm font-bold",children:a}),(0,i.jsx)("button",{onClick:n,className:"terminal-text text-xs font-bold text-black bg-red-500/30 hover:bg-red-500/50 border border-red-500/50 transition-colors px-3 py-0","aria-label":"Close",children:"✕"})]}),s&&(0,i.jsx)("div",{className:"px-4 pb-3",children:s})]}),(0,i.jsx)("div",{className:"overflow-y-auto flex-1 min-h-0",children:r})]})})}function eW(){let[e,t]=(0,l.useState)(null),{focusedModel:n,focusModel:a}=p(),{trades:r}=(0,o.d)(),s=null,c="",d=null,m=n?r.filter(e=>e.model_id===n):r;return"liveTrades"===e?(s=(0,i.jsx)(ey,{}),c="COMPLETED TRADES",d=(0,i.jsx)(ev,{focusedModel:n,onChange:a,tradeCount:m.length>0?Math.min(100,m.length):void 0,mobileMode:!0})):"modelchat"===e?(s=(0,i.jsx)(eI,{}),c="MODELCHAT",d=(0,i.jsx)(ev,{focusedModel:n,onChange:a,mobileMode:!0})):"positions"===e?(s=(0,i.jsx)(eR,{}),c="POSITIONS",d=(0,i.jsx)(ev,{focusedModel:n,onChange:a,mobileMode:!0})):"about"===e&&(s=(0,i.jsx)(ez,{onNavigateToLiveTrades:()=>t("liveTrades")}),c="README.TXT"),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"md:hidden border-t-2 border-black bg-white",children:[(0,i.jsx)("div",{className:"terminal-text text-center text-[10px] font-bold pt-2 pb-0.5",children:"DETAILED VIEW"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-3 px-4 pt-5 pb-4",children:[{label:"COMPLETED TRADES",key:"liveTrades",title:"COMPLETED TRADES",gradientClass:"mobile-button-gradient-blue"},{label:"MODELCHAT",key:"modelchat",title:"MODELCHAT",gradientClass:"mobile-button-gradient-purple"},{label:"POSITIONS",key:"positions",title:"POSITIONS",gradientClass:"mobile-button-gradient-green"},{label:"README.TXT",key:"about",title:"README.TXT",gradientClass:"mobile-button-gradient-orange"}].map(e=>(0,i.jsxs)("button",{onClick:()=>{t(e.key)},className:"terminal-button-small ".concat(e.gradientClass," border border-black flex items-center justify-between py-7 px-4 text-base whitespace-nowrap transition-all duration-200"),style:{lineHeight:"4"},children:[(0,i.jsx)("span",{children:e.label}),(0,i.jsx)("span",{className:"ml-2",children:">"})]},e.key))})]}),(0,i.jsx)(eV,{isOpen:null!==e,onClose:()=>{t(null)},title:c,headerContent:d,children:s})]})}var eB=n(130),eH=n(7661);function eG(e){let{className:t=""}=e,{prices:n,lastUpdateTime:l}=(0,c.r)(),a=e=>"DOGE"===e?4:2;return(0,i.jsx)("div",{className:"flex items-center ".concat(t),children:n&&eH.mG.map((e,t)=>{let l=null==n?void 0:n[e];return l?((0,eH.eo)(l.price,e),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"flex flex-col items-center px-6 py-0.5 text-xs",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1 mb-0.5",children:[(0,i.jsx)(eu,{coin:e,className:"size-3"}),(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:e})]}),(0,i.jsxs)("div",{className:"font-mono text-gray-800 text-sm font-semibold flex items-baseline",children:[(0,i.jsx)("span",{children:"$"}),(0,i.jsx)(k,{value:l.price,duration:600,decimals:a(e),trend:1,format:{style:"decimal",minimumFractionDigits:a(e),maximumFractionDigits:a(e)}})]})]}),t<eH.mG.length-1&&(0,i.jsx)("div",{className:"w-px h-8 bg-gray-300"})]},e)):null})})}function eY(){let{prices:e}=(0,c.r)(),t=e=>"DOGE"===e?4:2;return(0,i.jsx)("div",{className:"block md:hidden w-full bg-white border-b border-gray-200 h-12 overflow-hidden",children:(0,i.jsx)("div",{className:"flex items-center justify-between h-full",children:e&&eH.mG.map((n,l)=>{let a=null==e?void 0:e[n];return a?(0,i.jsxs)("div",{className:"flex flex-col items-center justify-center flex-1 h-full",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-1 mb-1",children:[(0,i.jsx)(eu,{coin:n,className:"size-2"}),(0,i.jsx)("span",{className:"text-gray-700 font-medium text-[9px]",children:n})]}),(0,i.jsx)("div",{className:"font-mono text-gray-800 text-[9px] font-bold text-center leading-none",children:(0,i.jsx)(k,{value:a.price,duration:600,decimals:t(n),trend:1,format:{style:"currency",currency:"USD",minimumFractionDigits:t(n),maximumFractionDigits:t(n)}})})]},n):null})})})}var e$=n(5961),eQ=n.n(e$);function eX(e){let{timeRange:t,setTimeRange:n,valueDisplayType:a,setValueDisplayType:r}=e,{models:o}=(0,s.Q)(),{focusedModel:c,focusModel:d,clearFocus:x}=p(),u=(0,l.useMemo)(()=>{if(0===o.length)return[];let e=function(){let e=(0,m.br)(),t={};return e.forEach(e=>{let n=(0,m.mA)(e);n&&(t[n.id]=n.color)}),t}();return o.map(t=>{var n;return{id:t.id,name:t.name,icon:t.icon,color:e[t.id]||"#8884d8",currentEquity:null!=(n=t.intermittentValue)?n:t.currentEquity,startingEquity:t.startingEquity}})},[o]);return(0,i.jsxs)("div",{className:"jsx-1ece7480e12d001d md:hidden bg-white",children:[(0,i.jsx)(eQ(),{id:"1ece7480e12d001d",children:".mobile-legend-direct.jsx-1ece7480e12d001d .grid{grid-template-columns:repeat(4,1fr)!important}"}),(0,i.jsx)("div",{className:"jsx-1ece7480e12d001d mobile-legend-direct",children:u.length>0&&(0,i.jsx)(en,{models:u,valueDisplayType:a,focusedModel:c,onModelClick:e=>{d(e)},onBackToAllModels:()=>{x()}})})]})}function eZ(){let{models:e,lastUpdateTime:t}=(0,s.Q)(),{serverTime:n,latestAccountDataByModel:a}=(0,d.q)(),[r,o]=(0,l.useState)("all"),[c,x]=(0,l.useState)("dollar"),[u,h]=(0,l.useState)([]),[p,f]=(0,l.useState)(null),g=(0,l.useRef)(new Set);(0,l.useEffect)(()=>{window.scrollTo(0,0)},[]),(0,l.useEffect)(()=>{if(!n||!a)return;let e=new Set;if(Object.entries(a).forEach(t=>{let[n,i]=t;i.positions&&Object.entries(i.positions).forEach(t=>{let[i,l]=t;l.is_active&&e.add("".concat(n,"_").concat(i,"_").concat(l.entry_time||l.oid))})}),0===g.current.size){g.current=e;return}let t=[...e].filter(e=>!g.current.has(e));if(t.length>0){let e=t.map(e=>{let[t,n,i]=e.split("_"),l=a[t];if(l&&l.positions&&l.positions[n]){var r,s;let e=l.positions[n],i=null!=(s=null!=(r=e.quantity)?r:e.position)?s:0,a=(0,m.dn)(t);return{model:(null==a?void 0:a.name)||t,side:i>0?"LONG":"SHORT",coin:n}}return null}).filter(Boolean);h(t=>[...t,...e])}g.current=e},[n,a]),(0,l.useEffect)(()=>{if(!p&&u.length>0){let[e,...t]=u;f(e),h(t),setTimeout(()=>{f(null)},2e3)}},[p,u]);let b=(0,l.useMemo)(()=>{if(0===e.length)return{highest:null,lowest:null};let t=e.filter(e=>!e.id.includes("buynhold"));if(0===t.length)return{highest:null,lowest:null};let n=[...t.map(e=>{var t,n;let i=null!=(n=e.intermittentValue)?n:(null==(t=e.equity[e.equity.length-1])?void 0:t.v)||e.startingEquity,l=(0,v.B3)(i,e.startingEquity);return{...e,currentEquity:i,pnlPct:l.percentageChange}})].sort((e,t)=>t.currentEquity-e.currentEquity);return{highest:n[0],lowest:n[n.length-1]}},[e]),y=(0,l.useMemo)(()=>0===e.length?[]:[...e.filter(e=>!e.id.includes("buynhold")).map(e=>{var t;let n=null!=(t=e.intermittentValue)?t:e.currentEquity,i=(n-e.startingEquity)/e.startingEquity*100;return{...e,id:e.id,currentEquity:n,returnPct:i}})].sort((e,t)=>t.currentEquity-e.currentEquity),[e]);return(0,i.jsxs)(i.Fragment,{children:[p&&(0,i.jsx)("div",{className:"fixed top-28 left-1/2 -translate-x-1/2 z-[99999] pointer-events-none animate-[float-up-fade_2s_ease-out_forwards]",children:(0,i.jsxs)("div",{className:"bg-white text-black px-2 py-1 md:px-4 md:py-2 shadow-lg border border-green-700 whitespace-nowrap text-[10px] md:text-xs font-mono",children:[(0,i.jsx)("span",{className:"font-bold",children:p.model})," has entered a"," ",(0,i.jsx)("span",{className:"LONG"===p.side?"terminal-positive font-bold":"terminal-negative font-bold",children:p.side})," ","position on ",(0,i.jsx)("span",{className:"font-bold",children:p.coin})]})}),(0,i.jsxs)("div",{className:"flex h-full flex-col bg-background",children:[(0,i.jsx)("div",{className:"hidden border-b-2 border-border bg-surface-elevated px-4 py-1 md:block",children:(0,i.jsxs)("div",{className:"terminal-text flex items-center justify-between text-xs",children:[(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsx)(eG,{})}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[b.highest&&(0,i.jsx)(eo,{label:"HIGHEST",accent:"positive",...b.highest}),(0,i.jsx)("span",{className:"text-xl font-thin text-foreground-subtle",children:"|"}),b.lowest&&(0,i.jsx)(eo,{label:"LOWEST",accent:"negative",...b.lowest})]})]})}),(0,i.jsxs)("div",{className:"md:hidden",children:[(0,i.jsx)(eY,{}),(0,i.jsx)("div",{className:"border-b border-border"})]}),(0,i.jsx)("div",{className:"hidden border-b border-border bg-surface-elevated px-2 py-1",children:(0,i.jsxs)("div",{className:"terminal-text flex items-center justify-between text-xs",children:[b.highest&&(0,i.jsx)(ec,{label:"HIGH",icon:b.highest.icon,name:b.highest.name,equity:b.highest.currentEquity,tone:"positive"}),b.lowest&&(0,i.jsx)(ec,{label:"LOW",icon:b.lowest.icon,name:b.lowest.name,equity:b.lowest.currentEquity,tone:"negative"})]})}),(0,i.jsxs)("div",{className:"flex min-h-0 flex-1 flex-col md:flex-row overflow-y-auto md:overflow-hidden",style:{WebkitOverflowScrolling:"touch"},children:[(0,i.jsxs)("div",{className:"flex flex-col h-[480px] md:min-h-0 md:h-auto md:flex-1 border-b md:border-b-0 md:border-r border-border flex-shrink-0",children:[(0,i.jsx)("div",{className:"relative flex-1 overflow-hidden","data-chart-container":!0,children:(0,i.jsx)(er,{externalTimeRange:r,externalSetTimeRange:o,externalValueDisplayType:c,externalSetValueDisplayType:x})}),(0,i.jsx)(eX,{timeRange:r,setTimeRange:o,valueDisplayType:c,setValueDisplayType:x})]}),(0,i.jsx)(eW,{}),(0,i.jsxs)("div",{className:"md:hidden px-4 pt-3 pb-28",children:[(0,i.jsx)("div",{className:"terminal-text text-center text-[10px] font-bold pt-1 pb-0.5 border-b border-black mb-3",children:"LEADING MODELS"}),(0,i.jsx)(eB.m,{sortedData:y,mobile:!0})]}),(0,i.jsx)("div",{className:"md:hidden h-1",style:{paddingBottom:"env(safe-area-inset-bottom)"}}),(0,i.jsx)("div",{className:"hidden md:block md:w-[280px] lg:w-[320px] xl:w-[380px] 2xl:w-[500px] flex-shrink-0 md:border-l border-border bg-surface overflow-y-auto md:overflow-hidden",children:(0,i.jsx)(eP,{})})]})]})]})}function eK(){return(0,i.jsx)(h,{children:(0,i.jsx)(eZ,{})})}},6760:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6171)}])},8617:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>l.Ee,YW:()=>r,ZI:()=>a,vv:()=>l.vv});var i=n(1193),l=n(326);function a(e){let t=Object.values(i.ht).find(t=>t.id===e);return t?{icon:t.icon,color:t.color}:{icon:"/logos/NOF1 SQUARE WHITE.png",color:"#6b7280"}}function r(e){return"".concat(Number(e.toFixed(1)),"%")}}},e=>{e.O(0,[333,542,636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);